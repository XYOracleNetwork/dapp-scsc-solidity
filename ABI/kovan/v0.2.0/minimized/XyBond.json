{
  "contractName": "XyBond",
  "abi": [
    {
      "constant": false,
      "inputs": [
        {
          "name": "account",
          "type": "address"
        }
      ],
      "name": "addGovernor",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "bonds",
      "outputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "erc20",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "address"
        },
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "ownerBonds",
      "outputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "governablePeriod",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "bond",
      "outputs": [
        {
          "name": "value",
          "type": "uint256"
        },
        {
          "name": "expirationSec",
          "type": "uint256"
        },
        {
          "name": "creationSec",
          "type": "uint256"
        },
        {
          "name": "allocated",
          "type": "uint256"
        },
        {
          "name": "owner",
          "type": "address"
        },
        {
          "name": "interest",
          "type": "uint8"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "consensus",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "stakeIdManager",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "bondIndex",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [],
      "name": "renounceGovernor",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "account",
          "type": "address"
        }
      ],
      "name": "isGovernor",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "beneficiary",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "name": "expiration",
          "type": "uint256"
        }
      ],
      "name": "BondDeposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "beneficiary",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "BondWithdraw",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "beneficiary",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "BondStake",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "stakingId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "BondUnstake",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "account",
          "type": "address"
        }
      ],
      "name": "GovernorAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "account",
          "type": "address"
        }
      ],
      "name": "GovernorRemoved",
      "type": "event"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_token",
          "type": "address"
        },
        {
          "name": "_consensusContract",
          "type": "address"
        },
        {
          "name": "_governablePeriod",
          "type": "uint256"
        }
      ],
      "name": "initialize",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "xyoAmount",
          "type": "uint256"
        },
        {
          "name": "expirationDate",
          "type": "uint256"
        }
      ],
      "name": "deposit",
      "outputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_spender",
          "type": "address"
        },
        {
          "name": "_value",
          "type": "uint256"
        },
        {
          "name": "_token",
          "type": "address"
        },
        {
          "name": "_extraData",
          "type": "bytes"
        }
      ],
      "name": "receiveApproval",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "name": "to",
          "type": "address"
        }
      ],
      "name": "withdrawTo",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "name": "beneficiary",
          "type": "address"
        },
        {
          "name": "stakees",
          "type": "address[]"
        },
        {
          "name": "amounts",
          "type": "uint256[]"
        }
      ],
      "name": "stake",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "name": "beneficiary",
          "type": "address"
        },
        {
          "name": "stakees",
          "type": "address[]"
        },
        {
          "name": "amounts",
          "type": "uint256[]"
        }
      ],
      "name": "sendEthAndStake",
      "outputs": [],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "name": "stakingId",
          "type": "bytes32"
        }
      ],
      "name": "unstake",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bondId",
          "type": "bytes32"
        }
      ],
      "name": "isExpired",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50611c94806100206000396000f3fe608060405260043610610131576000357c0100000000000000000000000000000000000000000000000000000000900480638862eadb116100bd578063c472c4e011610081578063c472c4e01461059d578063dcf39945146105c7578063e026049c14610703578063e2bbb15814610718578063e43581b81461074857610131565b80638862eadb146104445780638b3ee973146104595780638ef3f761146104c25780638f4ffcb1146104d7578063b7a8b5111461057357610131565b80636db2feb2116101045780636db2feb21461022357806373194f0214610261578063767e0e10146103aa578063785e9e86146103da578063853394cf1461040b57610131565b80631794bb3c146101365780632e331e6a1461017b5780633c4a25d0146101b45780635f1c17c0146101e7575b600080fd5b34801561014257600080fd5b506101796004803603606081101561015957600080fd5b50600160a060020a0381358116916020810135909116906040013561077b565b005b34801561018757600080fd5b506101796004803603604081101561019e57600080fd5b5080359060200135600160a060020a0316610867565b3480156101c057600080fd5b50610179600480360360208110156101d757600080fd5b5035600160a060020a0316610ab9565b3480156101f357600080fd5b506102116004803603602081101561020a57600080fd5b5035610b24565b60408051918252519081900360200190f35b34801561022f57600080fd5b5061024d6004803603602081101561024657600080fd5b5035610b43565b604080519115158252519081900360200190f35b34801561026d57600080fd5b506101796004803603608081101561028457600080fd5b813591600160a060020a03602082013516918101906060810160408201356401000000008111156102b457600080fd5b8201836020820111156102c657600080fd5b803590602001918460208302840111640100000000831117156102e857600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929594936020810193503591505064010000000081111561033857600080fd5b82018360208201111561034a57600080fd5b8035906020019184602083028401116401000000008311171561036c57600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929550610b5a945050505050565b3480156103b657600080fd5b50610179600480360360408110156103cd57600080fd5b5080359060200135610fb4565b3480156103e657600080fd5b506103ef61134d565b60408051600160a060020a039092168252519081900360200190f35b34801561041757600080fd5b506102116004803603604081101561042e57600080fd5b50600160a060020a03813516906020013561135c565b34801561045057600080fd5b5061021161138c565b34801561046557600080fd5b506104836004803603602081101561047c57600080fd5b5035611392565b604080519687526020870195909552858501939093526060850191909152600160a060020a0316608084015260ff1660a0830152519081900360c00190f35b3480156104ce57600080fd5b506103ef6113e7565b3480156104e357600080fd5b50610179600480360360808110156104fa57600080fd5b600160a060020a03823581169260208101359260408201359092169181019060808101606082013564010000000081111561053457600080fd5b82018360208201111561054657600080fd5b8035906020019184600183028401116401000000008311171561056857600080fd5b5090925090506113f6565b34801561057f57600080fd5b506103ef6004803603602081101561059657600080fd5b50356114e5565b3480156105a957600080fd5b50610211600480360360208110156105c057600080fd5b5035611500565b610179600480360360808110156105dd57600080fd5b813591600160a060020a036020820135169181019060608101604082013564010000000081111561060d57600080fd5b82018360208201111561061f57600080fd5b8035906020019184602083028401116401000000008311171561064157600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929594936020810193503591505064010000000081111561069157600080fd5b8201836020820111156106a357600080fd5b803590602001918460208302840111640100000000831117156106c557600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929550611512945050505050565b34801561070f57600080fd5b50610179611564565b34801561072457600080fd5b506102116004803603604081101561073b57600080fd5b508035906020013561156f565b34801561075457600080fd5b5061024d6004803603602081101561076b57600080fd5b5035600160a060020a0316611583565b600154610100900460ff1680610794575061079461159b565b806107a2575060015460ff16155b15156107e25760405160e560020a62461bcd02815260040180806020018281038252602e815260200180611c1a602e913960400191505060405180910390fd5b6001805461010061ff00198216811760ff191683179092556034805473ffffffffffffffffffffffffffffffffffffffff19908116600160a060020a03888116919091179092556035805490911691861691909117905560368390550460ff1661084a6115a1565b600180549115156101000261ff0019909216919091179055505050565b60008281526038602052604081208054909181116108cf576040805160e560020a62461bcd02815260206004820152601160248201527f426f6e6420686173206e6f2076616c7565000000000000000000000000000000604482015290519081900360640190fd5b6000825560048201546003830154600160a060020a039091163314901561092a5760405160e560020a62461bcd028152600401808060200182810382526021815260200180611c486021913960400191505060405180910390fd5b808061099c57506040805160c0810182528454815260018501546020820152600285015491810191909152600384015460608201526004840154600160a060020a038116608083015274010000000000000000000000000000000000000000900460ff1660a082015261099c906115aa565b15156109f2576040805160e560020a62461bcd02815260206004820181905260248201527f6f776e6572206f7220676f7665726e61626c652063616e207769746864726177604482015290519081900360640190fd5b8015610a535760018301544211610a53576040805160e560020a62461bcd02815260206004820152601460248201527f426f6e64206973207374696c6c20616374697665000000000000000000000000604482015290519081900360640190fd5b603454610a6a90600160a060020a031685846115ea565b60408051868152600160a060020a038616602082015280820184905290517fc15103656f6b64cd545b27cff5200a514f316fafe20fdbecfb7369781fcd14359181900360600190a15050505050565b610ac233611583565b1515610b18576040805160e560020a62461bcd02815260206004820152601460248201527f4f6e6c7920476f7665726e6f7220416374696f6e000000000000000000000000604482015290519081900360640190fd5b610b21816116e1565b50565b603b805482908110610b3257fe5b600091825260209091200154905081565b600090815260386020526040902060010154421190565b60008481526038602052604090206004810154600160a060020a031633148080610bea57506040805160c0810182528354815260018401546020820152600284015491810191909152600383015460608201526004830154600160a060020a038116608083015274010000000000000000000000000000000000000000900460ff1660a0820152610bea906115aa565b1515610c40576040805160e560020a62461bcd02815260206004820152601d60248201527f6f776e6572206f7220676f7665726e61626c652063616e207374616b65000000604482015290519081900360640190fd5b6000805b8451811015610c7f57610c758582815181101515610c5e57fe5b60209081029091010151839063ffffffff61172916565b9150600101610c44565b506003830154610c95908263ffffffff61172916565b6003840181905583541015610cf4576040805160e560020a62461bcd02815260206004820152601960248201527f496e73756666696369656e7420626f6e642062616c616e636500000000000000604482015290519081900360640190fd5b6060878787876040516020018085815260200184600160a060020a0316600160a060020a031681526020018060200180602001838103835285818151815260200191508051906020019060200280838360005b83811015610d5f578181015183820152602001610d47565b50505050905001838103825284818151815260200191508051906020019060200280838360005b83811015610d9e578181015183820152602001610d86565b50505050905001965050505050505060405160208183030381529060405290506060600482604051602001808360ff16815260200180602001828103825283818151815260200191508051906020019080838360005b83811015610e0c578181015183820152602001610df4565b50505050905090810190601f168015610e395780820380516001836020036101000a031916815260200191505b5060408051601f19818403018152908290526034546035547fcae9ca51000000000000000000000000000000000000000000000000000000008452600160a060020a0390811660048501818152602486018d9052606060448701908152855160648801528551959b5092909316985063cae9ca51975095508a945088939192909160840190602085019080838360005b83811015610ee1578181015183820152602001610ec9565b50505050905090810190601f168015610f0e5780820380516001836020036101000a031916815260200191505b50945050505050602060405180830381600087803b158015610f2f57600080fd5b505af1158015610f43573d6000803e3d6000fd5b505050506040513d6020811015610f5957600080fd5b5050604080518a8152336020820152600160a060020a038a16818301526060810185905290517f42e7044c4f07599463ab916896808dec08d53a4d63c09608065f9fa448d5ce829181900360800190a1505050505050505050565b603554604080517f1e23f2f9000000000000000000000000000000000000000000000000000000008152600481018490529051600092600160a060020a031691631e23f2f9916024808301926020929190829003018186803b15801561101957600080fd5b505afa15801561102d573d6000803e3d6000fd5b505050506040513d602081101561104357600080fd5b5051603554604080517f5652c52f000000000000000000000000000000000000000000000000000000008152600481018690529051929350600092600160a060020a0390921691635652c52f9160248082019260e092909190829003018186803b1580156110b057600080fd5b505afa1580156110c4573d6000803e3d6000fd5b505050506040513d60e08110156110da57600080fd5b50519050818414611135576040805160e560020a62461bcd02815260206004820152601860248201527f5374616b65206e6565647320746f20626520626f6e6465640000000000000000604482015290519081900360640190fd5b60008481526038602052604090206004810154600160a060020a03163314806111c457506040805160c0810182528254815260018301546020820152600283015491810191909152600382015460608201526004820154600160a060020a038116608083015274010000000000000000000000000000000000000000900460ff1660a08201526111c4906115aa565b151561121a576040805160e560020a62461bcd02815260206004820152601f60248201527f6f776e6572206f7220676f7665726e61626c652063616e20756e7374616b6500604482015290519081900360640190fd5b60038101548211156112605760405160e560020a62461bcd028152600401808060200182810382526023815260200180611bf76023913960400191505060405180910390fd5b6003810154611275908363ffffffff61173616565b6003820155603554604080517fd78b37ed00000000000000000000000000000000000000000000000000000000815260048101889052602481018790529051600160a060020a039092169163d78b37ed9160448082019260009290919082900301818387803b1580156112e757600080fd5b505af11580156112fb573d6000803e3d6000fd5b5050604080518881523360208201528082018890526060810186905290517f687f705929669882a184d4123148de163cc23c02682e756263a0259955ea3e789350908190036080019150a15050505050565b603454600160a060020a031681565b603a6020528160005260406000208181548110151561137757fe5b90600052602060002001600091509150505481565b60365481565b6038602052600090815260409020805460018201546002830154600384015460049094015492939192909190600160a060020a0381169074010000000000000000000000000000000000000000900460ff1686565b603554600160a060020a031681565b603454600160a060020a0384811691161461145b576040805160e560020a62461bcd02815260206004820152601b60248201527f43616c6c2066726f6d207468652063757272656e7420746f6b656e0000000000604482015290519081900360640190fd5b33600160a060020a038416146114bb576040805160e560020a62461bcd02815260206004820152601060248201527f53656e646572206e6f7420746f6b656e00000000000000000000000000000000604482015290519081900360640190fd5b6000828260208110156114cd57600080fd5b503590506114dc868683611748565b50505050505050565b603760205260009081526040902054600160a060020a031681565b60396020526000908152604090205481565b600034111561155257604051600160a060020a038416903480156108fc02916000818181858888f19350505050158015611550573d6000803e3d6000fd5b505b61155e84848484610b5a565b50505050565b61156d3361197d565b565b600061157c338484611748565b9392505050565b6000611595818363ffffffff6119c516565b92915050565b303b1590565b61156d336116e1565b6000806115b633611583565b905060006115d3603654856040015161172990919063ffffffff16565b42111590508180156115e25750805b949350505050565b82600160a060020a031663a9059cbb83836040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083600160a060020a0316600160a060020a0316815260200182815260200192505050600060405180830381600087803b15801561166657600080fd5b505af115801561167a573d6000803e3d6000fd5b505050506116866119fc565b15156116dc576040805160e560020a62461bcd02815260206004820152600d60248201527f7472616e73666572206661696c00000000000000000000000000000000000000604482015290519081900360640190fd5b505050565b6116f260008263ffffffff611a3016565b604051600160a060020a038216907fdc5a48d79e2e147530ff63ecdbed5a5a66adb9d5cf339384d5d076da197c40b590600090a250565b8181018281101561159557fe5b60008282111561174257fe5b50900390565b60004282116117a1576040805160e560020a62461bcd02815260206004820152601c60248201527f457870697279206d75737420626520696e207468652066757475726500000000604482015290519081900360640190fd5b60408051600160a060020a03861660208083019190915281830186905260608201859052436080808401919091528351808403909101815260a090920190925280519101206117ee611bb3565b506040805160c081018252858152602080820186815242838501908152600060608501818152600160a060020a03808d166080880181815260a08901858152603b80548d885260398b528c88205560388a528b87208b51815598516001808b0191909155975160028a015594516003890155905160049097018054915160ff16740100000000000000000000000000000000000000000274ff00000000000000000000000000000000000000001998851673ffffffffffffffffffffffffffffffffffffffff19909316929092179790971617909555938252603a85529581208054808401825590825293812090930186905584549081018555939091527fbbe3212124853f8b0084a66a2d057c2966e251e132af3691db153ab65f0d1a4d90920183905560345490916119259116873088611a7e565b60408051838152600160a060020a03881660208201528082018790526060810186905290517f3db8638351f2d0f91f71603c1096c8170b9c1af65d6d548492a3857ba71fd6f99181900360800190a150949350505050565b61198e60008263ffffffff611b6716565b604051600160a060020a038216907f1ebe834e73d60a5fec822c1e1727d34bc79f2ad977ed504581cc1822fe20fb5b90600090a250565b6000600160a060020a03821615156119dc57600080fd5b50600160a060020a03166000908152602091909152604090205460ff1690565b6000803d8015611a135760208114611a1c57611a28565b60019150611a28565b60206000803e60005191505b501515905090565b600160a060020a0381161515611a4557600080fd5b611a4f82826119c5565b15611a5957600080fd5b600160a060020a0316600090815260209190915260409020805460ff19166001179055565b604080517f23b872dd000000000000000000000000000000000000000000000000000000008152600160a060020a0385811660048301528481166024830152604482018490529151918616916323b872dd9160648082019260009290919082900301818387803b158015611af157600080fd5b505af1158015611b05573d6000803e3d6000fd5b50505050611b116119fc565b151561155e576040805160e560020a62461bcd02815260206004820152601160248201527f7472616e7366657246726f6d206661696c000000000000000000000000000000604482015290519081900360640190fd5b600160a060020a0381161515611b7c57600080fd5b611b8682826119c5565b1515611b9157600080fd5b600160a060020a0316600090815260209190915260409020805460ff19169055565b60c060405190810160405280600081526020016000815260200160008152602001600081526020016000600160a060020a03168152602001600060ff168152509056fe43616e6e6f7420756e7374616b65206f76657220626f6e6420616c6c6f636174696f6e436f6e747261637420696e7374616e63652068617320616c7265616479206265656e20696e697469616c697a6564426f6e64206d7573742068617665206e6f20616c6c6f6361746564207374616b65a165627a7a723058203cad4108d3f704dbc0e6d15c641c4429ffda7eadafb964bbbf00a73cce4ab9930029",
  "deployedBytecode": "0x608060405260043610610131576000357c0100000000000000000000000000000000000000000000000000000000900480638862eadb116100bd578063c472c4e011610081578063c472c4e01461059d578063dcf39945146105c7578063e026049c14610703578063e2bbb15814610718578063e43581b81461074857610131565b80638862eadb146104445780638b3ee973146104595780638ef3f761146104c25780638f4ffcb1146104d7578063b7a8b5111461057357610131565b80636db2feb2116101045780636db2feb21461022357806373194f0214610261578063767e0e10146103aa578063785e9e86146103da578063853394cf1461040b57610131565b80631794bb3c146101365780632e331e6a1461017b5780633c4a25d0146101b45780635f1c17c0146101e7575b600080fd5b34801561014257600080fd5b506101796004803603606081101561015957600080fd5b50600160a060020a0381358116916020810135909116906040013561077b565b005b34801561018757600080fd5b506101796004803603604081101561019e57600080fd5b5080359060200135600160a060020a0316610867565b3480156101c057600080fd5b50610179600480360360208110156101d757600080fd5b5035600160a060020a0316610ab9565b3480156101f357600080fd5b506102116004803603602081101561020a57600080fd5b5035610b24565b60408051918252519081900360200190f35b34801561022f57600080fd5b5061024d6004803603602081101561024657600080fd5b5035610b43565b604080519115158252519081900360200190f35b34801561026d57600080fd5b506101796004803603608081101561028457600080fd5b813591600160a060020a03602082013516918101906060810160408201356401000000008111156102b457600080fd5b8201836020820111156102c657600080fd5b803590602001918460208302840111640100000000831117156102e857600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929594936020810193503591505064010000000081111561033857600080fd5b82018360208201111561034a57600080fd5b8035906020019184602083028401116401000000008311171561036c57600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929550610b5a945050505050565b3480156103b657600080fd5b50610179600480360360408110156103cd57600080fd5b5080359060200135610fb4565b3480156103e657600080fd5b506103ef61134d565b60408051600160a060020a039092168252519081900360200190f35b34801561041757600080fd5b506102116004803603604081101561042e57600080fd5b50600160a060020a03813516906020013561135c565b34801561045057600080fd5b5061021161138c565b34801561046557600080fd5b506104836004803603602081101561047c57600080fd5b5035611392565b604080519687526020870195909552858501939093526060850191909152600160a060020a0316608084015260ff1660a0830152519081900360c00190f35b3480156104ce57600080fd5b506103ef6113e7565b3480156104e357600080fd5b50610179600480360360808110156104fa57600080fd5b600160a060020a03823581169260208101359260408201359092169181019060808101606082013564010000000081111561053457600080fd5b82018360208201111561054657600080fd5b8035906020019184600183028401116401000000008311171561056857600080fd5b5090925090506113f6565b34801561057f57600080fd5b506103ef6004803603602081101561059657600080fd5b50356114e5565b3480156105a957600080fd5b50610211600480360360208110156105c057600080fd5b5035611500565b610179600480360360808110156105dd57600080fd5b813591600160a060020a036020820135169181019060608101604082013564010000000081111561060d57600080fd5b82018360208201111561061f57600080fd5b8035906020019184602083028401116401000000008311171561064157600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929594936020810193503591505064010000000081111561069157600080fd5b8201836020820111156106a357600080fd5b803590602001918460208302840111640100000000831117156106c557600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929550611512945050505050565b34801561070f57600080fd5b50610179611564565b34801561072457600080fd5b506102116004803603604081101561073b57600080fd5b508035906020013561156f565b34801561075457600080fd5b5061024d6004803603602081101561076b57600080fd5b5035600160a060020a0316611583565b600154610100900460ff1680610794575061079461159b565b806107a2575060015460ff16155b15156107e25760405160e560020a62461bcd02815260040180806020018281038252602e815260200180611c1a602e913960400191505060405180910390fd5b6001805461010061ff00198216811760ff191683179092556034805473ffffffffffffffffffffffffffffffffffffffff19908116600160a060020a03888116919091179092556035805490911691861691909117905560368390550460ff1661084a6115a1565b600180549115156101000261ff0019909216919091179055505050565b60008281526038602052604081208054909181116108cf576040805160e560020a62461bcd02815260206004820152601160248201527f426f6e6420686173206e6f2076616c7565000000000000000000000000000000604482015290519081900360640190fd5b6000825560048201546003830154600160a060020a039091163314901561092a5760405160e560020a62461bcd028152600401808060200182810382526021815260200180611c486021913960400191505060405180910390fd5b808061099c57506040805160c0810182528454815260018501546020820152600285015491810191909152600384015460608201526004840154600160a060020a038116608083015274010000000000000000000000000000000000000000900460ff1660a082015261099c906115aa565b15156109f2576040805160e560020a62461bcd02815260206004820181905260248201527f6f776e6572206f7220676f7665726e61626c652063616e207769746864726177604482015290519081900360640190fd5b8015610a535760018301544211610a53576040805160e560020a62461bcd02815260206004820152601460248201527f426f6e64206973207374696c6c20616374697665000000000000000000000000604482015290519081900360640190fd5b603454610a6a90600160a060020a031685846115ea565b60408051868152600160a060020a038616602082015280820184905290517fc15103656f6b64cd545b27cff5200a514f316fafe20fdbecfb7369781fcd14359181900360600190a15050505050565b610ac233611583565b1515610b18576040805160e560020a62461bcd02815260206004820152601460248201527f4f6e6c7920476f7665726e6f7220416374696f6e000000000000000000000000604482015290519081900360640190fd5b610b21816116e1565b50565b603b805482908110610b3257fe5b600091825260209091200154905081565b600090815260386020526040902060010154421190565b60008481526038602052604090206004810154600160a060020a031633148080610bea57506040805160c0810182528354815260018401546020820152600284015491810191909152600383015460608201526004830154600160a060020a038116608083015274010000000000000000000000000000000000000000900460ff1660a0820152610bea906115aa565b1515610c40576040805160e560020a62461bcd02815260206004820152601d60248201527f6f776e6572206f7220676f7665726e61626c652063616e207374616b65000000604482015290519081900360640190fd5b6000805b8451811015610c7f57610c758582815181101515610c5e57fe5b60209081029091010151839063ffffffff61172916565b9150600101610c44565b506003830154610c95908263ffffffff61172916565b6003840181905583541015610cf4576040805160e560020a62461bcd02815260206004820152601960248201527f496e73756666696369656e7420626f6e642062616c616e636500000000000000604482015290519081900360640190fd5b6060878787876040516020018085815260200184600160a060020a0316600160a060020a031681526020018060200180602001838103835285818151815260200191508051906020019060200280838360005b83811015610d5f578181015183820152602001610d47565b50505050905001838103825284818151815260200191508051906020019060200280838360005b83811015610d9e578181015183820152602001610d86565b50505050905001965050505050505060405160208183030381529060405290506060600482604051602001808360ff16815260200180602001828103825283818151815260200191508051906020019080838360005b83811015610e0c578181015183820152602001610df4565b50505050905090810190601f168015610e395780820380516001836020036101000a031916815260200191505b5060408051601f19818403018152908290526034546035547fcae9ca51000000000000000000000000000000000000000000000000000000008452600160a060020a0390811660048501818152602486018d9052606060448701908152855160648801528551959b5092909316985063cae9ca51975095508a945088939192909160840190602085019080838360005b83811015610ee1578181015183820152602001610ec9565b50505050905090810190601f168015610f0e5780820380516001836020036101000a031916815260200191505b50945050505050602060405180830381600087803b158015610f2f57600080fd5b505af1158015610f43573d6000803e3d6000fd5b505050506040513d6020811015610f5957600080fd5b5050604080518a8152336020820152600160a060020a038a16818301526060810185905290517f42e7044c4f07599463ab916896808dec08d53a4d63c09608065f9fa448d5ce829181900360800190a1505050505050505050565b603554604080517f1e23f2f9000000000000000000000000000000000000000000000000000000008152600481018490529051600092600160a060020a031691631e23f2f9916024808301926020929190829003018186803b15801561101957600080fd5b505afa15801561102d573d6000803e3d6000fd5b505050506040513d602081101561104357600080fd5b5051603554604080517f5652c52f000000000000000000000000000000000000000000000000000000008152600481018690529051929350600092600160a060020a0390921691635652c52f9160248082019260e092909190829003018186803b1580156110b057600080fd5b505afa1580156110c4573d6000803e3d6000fd5b505050506040513d60e08110156110da57600080fd5b50519050818414611135576040805160e560020a62461bcd02815260206004820152601860248201527f5374616b65206e6565647320746f20626520626f6e6465640000000000000000604482015290519081900360640190fd5b60008481526038602052604090206004810154600160a060020a03163314806111c457506040805160c0810182528254815260018301546020820152600283015491810191909152600382015460608201526004820154600160a060020a038116608083015274010000000000000000000000000000000000000000900460ff1660a08201526111c4906115aa565b151561121a576040805160e560020a62461bcd02815260206004820152601f60248201527f6f776e6572206f7220676f7665726e61626c652063616e20756e7374616b6500604482015290519081900360640190fd5b60038101548211156112605760405160e560020a62461bcd028152600401808060200182810382526023815260200180611bf76023913960400191505060405180910390fd5b6003810154611275908363ffffffff61173616565b6003820155603554604080517fd78b37ed00000000000000000000000000000000000000000000000000000000815260048101889052602481018790529051600160a060020a039092169163d78b37ed9160448082019260009290919082900301818387803b1580156112e757600080fd5b505af11580156112fb573d6000803e3d6000fd5b5050604080518881523360208201528082018890526060810186905290517f687f705929669882a184d4123148de163cc23c02682e756263a0259955ea3e789350908190036080019150a15050505050565b603454600160a060020a031681565b603a6020528160005260406000208181548110151561137757fe5b90600052602060002001600091509150505481565b60365481565b6038602052600090815260409020805460018201546002830154600384015460049094015492939192909190600160a060020a0381169074010000000000000000000000000000000000000000900460ff1686565b603554600160a060020a031681565b603454600160a060020a0384811691161461145b576040805160e560020a62461bcd02815260206004820152601b60248201527f43616c6c2066726f6d207468652063757272656e7420746f6b656e0000000000604482015290519081900360640190fd5b33600160a060020a038416146114bb576040805160e560020a62461bcd02815260206004820152601060248201527f53656e646572206e6f7420746f6b656e00000000000000000000000000000000604482015290519081900360640190fd5b6000828260208110156114cd57600080fd5b503590506114dc868683611748565b50505050505050565b603760205260009081526040902054600160a060020a031681565b60396020526000908152604090205481565b600034111561155257604051600160a060020a038416903480156108fc02916000818181858888f19350505050158015611550573d6000803e3d6000fd5b505b61155e84848484610b5a565b50505050565b61156d3361197d565b565b600061157c338484611748565b9392505050565b6000611595818363ffffffff6119c516565b92915050565b303b1590565b61156d336116e1565b6000806115b633611583565b905060006115d3603654856040015161172990919063ffffffff16565b42111590508180156115e25750805b949350505050565b82600160a060020a031663a9059cbb83836040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083600160a060020a0316600160a060020a0316815260200182815260200192505050600060405180830381600087803b15801561166657600080fd5b505af115801561167a573d6000803e3d6000fd5b505050506116866119fc565b15156116dc576040805160e560020a62461bcd02815260206004820152600d60248201527f7472616e73666572206661696c00000000000000000000000000000000000000604482015290519081900360640190fd5b505050565b6116f260008263ffffffff611a3016565b604051600160a060020a038216907fdc5a48d79e2e147530ff63ecdbed5a5a66adb9d5cf339384d5d076da197c40b590600090a250565b8181018281101561159557fe5b60008282111561174257fe5b50900390565b60004282116117a1576040805160e560020a62461bcd02815260206004820152601c60248201527f457870697279206d75737420626520696e207468652066757475726500000000604482015290519081900360640190fd5b60408051600160a060020a03861660208083019190915281830186905260608201859052436080808401919091528351808403909101815260a090920190925280519101206117ee611bb3565b506040805160c081018252858152602080820186815242838501908152600060608501818152600160a060020a03808d166080880181815260a08901858152603b80548d885260398b528c88205560388a528b87208b51815598516001808b0191909155975160028a015594516003890155905160049097018054915160ff16740100000000000000000000000000000000000000000274ff00000000000000000000000000000000000000001998851673ffffffffffffffffffffffffffffffffffffffff19909316929092179790971617909555938252603a85529581208054808401825590825293812090930186905584549081018555939091527fbbe3212124853f8b0084a66a2d057c2966e251e132af3691db153ab65f0d1a4d90920183905560345490916119259116873088611a7e565b60408051838152600160a060020a03881660208201528082018790526060810186905290517f3db8638351f2d0f91f71603c1096c8170b9c1af65d6d548492a3857ba71fd6f99181900360800190a150949350505050565b61198e60008263ffffffff611b6716565b604051600160a060020a038216907f1ebe834e73d60a5fec822c1e1727d34bc79f2ad977ed504581cc1822fe20fb5b90600090a250565b6000600160a060020a03821615156119dc57600080fd5b50600160a060020a03166000908152602091909152604090205460ff1690565b6000803d8015611a135760208114611a1c57611a28565b60019150611a28565b60206000803e60005191505b501515905090565b600160a060020a0381161515611a4557600080fd5b611a4f82826119c5565b15611a5957600080fd5b600160a060020a0316600090815260209190915260409020805460ff19166001179055565b604080517f23b872dd000000000000000000000000000000000000000000000000000000008152600160a060020a0385811660048301528481166024830152604482018490529151918616916323b872dd9160648082019260009290919082900301818387803b158015611af157600080fd5b505af1158015611b05573d6000803e3d6000fd5b50505050611b116119fc565b151561155e576040805160e560020a62461bcd02815260206004820152601160248201527f7472616e7366657246726f6d206661696c000000000000000000000000000000604482015290519081900360640190fd5b600160a060020a0381161515611b7c57600080fd5b611b8682826119c5565b1515611b9157600080fd5b600160a060020a0316600090815260209190915260409020805460ff19169055565b60c060405190810160405280600081526020016000815260200160008152602001600081526020016000600160a060020a03168152602001600060ff168152509056fe43616e6e6f7420756e7374616b65206f76657220626f6e6420616c6c6f636174696f6e436f6e747261637420696e7374616e63652068617320616c7265616479206265656e20696e697469616c697a6564426f6e64206d7573742068617665206e6f20616c6c6f6361746564207374616b65a165627a7a723058203cad4108d3f704dbc0e6d15c641c4429ffda7eadafb964bbbf00a73cce4ab9930029",
  "sourceMap": "253:6015:14:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;253:6015:14;;;;;;;",
  "deployedSourceMap": "253:6015:14:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1437:298;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1437:298:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;;;;;1437:298:14;;;;;;;;;;;;;;;;;:::i;:::-;;3172:676;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3172:676:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;3172:676:14;;;;;;-1:-1:-1;;;;;3172:676:14;;:::i;526:90:9:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;526:90:9;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;526:90:9;-1:-1:-1;;;;;526:90:9;;:::i;1408:22:14:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1408:22:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1408:22:14;;:::i;:::-;;;;;;;;;;;;;;;;5859:149;;8:9:-1;5:2;;;30:1;27;20:12;5:2;5859:149:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;5859:149:14;;:::i;:::-;;;;;;;;;;;;;;;;;;3854:915;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3854:915:14;;;;;;13:3:-1;8;5:12;2:2;;;30:1;27;20:12;2:2;3854:915:14;;;-1:-1:-1;;;;;3854:915:14;;;;;;;;;;;;;;;;21:11:-1;5:28;;2:2;;;46:1;43;36:12;2:2;3854:915:14;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;3854:915:14;;;;;;101:9:-1;95:2;81:12;77:21;67:8;63:36;60:51;39:11;25:12;22:29;11:108;8:2;;;132:1;129;122:12;8:2;3854:915:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;3854:915:14;;;;;;;;-1:-1:-1;3854:915:14;;-1:-1:-1;;21:11;5:28;;2:2;;;46:1;43;36:12;2:2;3854:915:14;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;3854:915:14;;;;;;101:9:-1;95:2;81:12;77:21;67:8;63:36;60:51;39:11;25:12;22:29;11:108;8:2;;;132:1;129;122:12;8:2;3854:915:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;3854:915:14;;-1:-1:-1;3854:915:14;;-1:-1:-1;;;;;3854:915:14:i;5081:772::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;5081:772:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;5081:772:14;;;;;;;:::i;336:20::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;336:20:14;;;:::i;:::-;;;;-1:-1:-1;;;;;336:20:14;;;;;;;;;;;;;;1354:48;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1354:48:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;;;;;1354:48:14;;;;;;;;:::i;392:28::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;392:28:14;;;:::i;1263:37::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1263:37:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1263:37:14;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1263:37:14;;;;;;;;;;;;;;;;;;;;362:24;;8:9:-1;5:2;;;30:1;27;20:12;5:2;362:24:14;;;:::i;1994:409::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1994:409:14;;;;;;13:3:-1;8;5:12;2:2;;;30:1;27;20:12;2:2;-1:-1;;;;;1994:409:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;21:11:-1;5:28;;2:2;;;46:1;43;36:12;2:2;1994:409:14;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;1994:409:14;;;;;;100:9:-1;95:1;81:12;77:20;67:8;63:35;60:50;39:11;25:12;22:29;11:107;8:2;;;131:1;128;121:12;8:2;-1:-1;1994:409:14;;-1:-1:-1;1994:409:14;-1:-1:-1;1994:409:14;:::i;473:50::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;473:50:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;473:50:14;;:::i;1306:42::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1306:42:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1306:42:14;;:::i;4775:300::-;;;;;;13:3:-1;8;5:12;2:2;;;30:1;27;20:12;2:2;4775:300:14;;;-1:-1:-1;;;;;4775:300:14;;;;;;;;;;;;;;;;21:11:-1;5:28;;2:2;;;46:1;43;36:12;2:2;4775:300:14;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;4775:300:14;;;;;;101:9:-1;95:2;81:12;77:21;67:8;63:36;60:51;39:11;25:12;22:29;11:108;8:2;;;132:1;129;122:12;8:2;4775:300:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;4775:300:14;;;;;;;;-1:-1:-1;4775:300:14;;-1:-1:-1;;21:11;5:28;;2:2;;;46:1;43;36:12;2:2;4775:300:14;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;4775:300:14;;;;;;101:9:-1;95:2;81:12;77:21;67:8;63:36;60:51;39:11;25:12;22:29;11:108;8:2;;;132:1;129;122:12;8:2;4775:300:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;4775:300:14;;-1:-1:-1;4775:300:14;;-1:-1:-1;;;;;4775:300:14:i;620:73:9:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;620:73:9;;;:::i;1814:174:14:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1814:174:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1814:174:14;;;;;;;:::i;418:104:9:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;418:104:9;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;418:104:9;-1:-1:-1;;;;;418:104:9;;:::i;1437:298:14:-;1024:12:29;;;;;;;;:31;;;1040:15;:13;:15::i;:::-;1024:47;;;-1:-1:-1;1060:11:29;;;;1059:12;1024:47;1016:106;;;;;;-1:-1:-1;;;;;1016:106:29;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1152:12;;;;-1:-1:-1;;1170:19:29;;;;-1:-1:-1;;1195:18:29;;;;;;1606:5:14;:14;;-1:-1:-1;;1606:14:14;;;-1:-1:-1;;;;;1606:14:14;;;;;;;;;;1630:9;:30;;;;;;;;;;;;;;1670:16;:36;;;1152:12:29;;;1716::14;:10;:12::i;:::-;1228::29;:30;;;;;;;-1:-1:-1;;1228:30:29;;;;;;;;;-1:-1:-1;;;1437:298:14:o;3172:676::-;3251:15;3269:12;;;:4;:12;;;;;3313:8;;3269:12;;3340:18;;3331:49;;;;;-1:-1:-1;;;;;3331:49:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;3401:1;3390:12;;3464:8;;;;3491:12;;;;-1:-1:-1;;;;;3464:8:14;;;3450:10;:22;;3491:17;3482:64;;;;-1:-1:-1;;;;;3482:64:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3565:7;:25;;;-1:-1:-1;3576:14:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;3576:14:14;;;;;;;;;;;;;;;;;:10;:14::i;:::-;3556:71;;;;;;;-1:-1:-1;;;;;3556:71:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3641:7;3637:94;;;3679:16;;;;3673:3;:22;3664:56;;;;;-1:-1:-1;;;;;3664:56:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;3759:5;;3740:45;;-1:-1:-1;;;;;3759:5:14;3766:2;3770:14;3740:18;:45::i;:::-;3801:40;;;;;;-1:-1:-1;;;;;3801:40:14;;;;;;;;;;;;;;;;;;;;;;;3172:676;;;;;:::o;526:90:9:-;355:22;366:10;355;:22::i;:::-;347:55;;;;;;;-1:-1:-1;;;;;347:55:9;;;;;;;;;;;;;;;;;;;;;;;;;;;;590:21;603:7;590:12;:21::i;:::-;526:90;:::o;1408:22:14:-;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;1408:22:14;:::o;5859:149::-;5942:4;5969:12;;;:4;:12;;;;;:26;;;5998:3;-1:-1:-1;;5859:149:14:o;3854:915::-;3993:15;4011:12;;;:4;:12;;;;;4062:8;;;;-1:-1:-1;;;;;4062:8:14;4048:10;:22;;;4089:25;;-1:-1:-1;4100:14:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;4100:14:14;;;;;;;;;;;;;;;;;:10;:14::i;:::-;4080:68;;;;;;;-1:-1:-1;;;;;4080:68:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;4167:10;;4191:96;4212:7;:14;4208:1;:18;4191:96;;;4255:21;4265:7;4273:1;4265:10;;;;;;;;;;;;;;;;;;;4255:5;;:21;:9;:21;:::i;:::-;4247:29;-1:-1:-1;4228:3:14;;4191:96;;;-1:-1:-1;4311:12:14;;;;:23;;4328:5;4311:23;:16;:23;:::i;:::-;4296:12;;;:38;;;4370:8;;-1:-1:-1;4354:24:14;4345:63;;;;;-1:-1:-1;;;;;4345:63:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;4457:20;4491:6;4499:11;4512:7;4521;4480:49;;;;;;;;;;;-1:-1:-1;;;;;4480:49:14;-1:-1:-1;;;;;4480:49:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;;12:14;4480:49:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;;12:14;4480:49:14;;;;;;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;4480::14;;;4457:72;;4539:23;4576:1;4579:7;4565:22;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;;12:14;4565:22:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;4565:22:14;;;-1:-1:-1;;26:21;;;22:32;6:49;;4565:22:14;;;;4646:5;;4668:9;;4636:61;;;-1:-1:-1;;;;;4668:9:14;;;4636:61;;;;;;;;;;;;;;;;;;;;;;;;;;;4565:22;;-1:-1:-1;4646:5:14;;;;;-1:-1:-1;4636:31:14;;-1:-1:-1;4668:9:14;-1:-1:-1;4679:5:14;;-1:-1:-1;4565:22:14;;4636:61;;;;;;;49:4:-1;4636:61:14;;;;;;4646:5;8:100:-1;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;;12:14;4636:61:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4636:61:14;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4636:61:14;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;4713:49:14;;;;;;4731:10;4636:61;4713:49;;;-1:-1:-1;;;;;4713:49:14;;;;;;;;;;;;;;;;;;;;;;;3854:915;;;;;;;;;:::o;5081:772::-;5207:9;;5188:52;;;;;;;;;;;;;;5166:19;;-1:-1:-1;;;;;5207:9:14;;5188:41;;:52;;;;;;;;;;;;;;5207:9;5188:52;;;5:2:-1;;;;30:1;27;20:12;5:2;5188:52:14;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5188:52:14;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;5188:52:14;5291:9;;5272:50;;;;;;;;;;;;;;5188:52;;-1:-1:-1;5251:11:14;;-1:-1:-1;;;;;5291:9:14;;;;5272:39;;:50;;;;;;;;;;;;;;;5291:9;5272:50;;;5:2:-1;;;;30:1;27;20:12;5:2;5272:50:14;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5272:50:14;;;;;;;13:3:-1;8;5:12;2:2;;;30:1;27;20:12;2:2;-1:-1;5272:50:14;;-1:-1:-1;5340:21:14;;;5332:58;;;;;-1:-1:-1;;;;;5332:58:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;5401:15;5419:12;;;:4;:12;;;;;5464:8;;;;-1:-1:-1;;;;;5464:8:14;5450:10;:22;;:40;;-1:-1:-1;5476:14:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;5476:14:14;;;;;;;;;;;;;;;;;:10;:14::i;:::-;5441:85;;;;;;;-1:-1:-1;;;;;5441:85:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;5553:12;;;;:22;-1:-1:-1;5553:22:14;5545:70;;;;-1:-1:-1;;;;;5545:70:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5640:12;;;;:24;;5657:6;5640:24;:16;:24;:::i;:::-;5625:12;;;:39;5737:9;;5718:62;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;5737:9:14;;;;5718:43;;:62;;;;;5737:9;;5718:62;;;;;;;;5737:9;;5718:62;;;5:2:-1;;;;30:1;27;20:12;5:2;5718:62:14;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;5796:50:14;;;;;;5816:10;5796:50;;;;;;;;;;;;;;;;;;;;-1:-1:-1;5796:50:14;;;;;;;-1:-1:-1;5796:50:14;5081:772;;;;;:::o;336:20::-;;;-1:-1:-1;;;;;336:20:14;;:::o;1354:48::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;392:28::-;;;;:::o;1263:37::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1263:37:14;;;;;;;;;:::o;362:24::-;;;-1:-1:-1;;;;;362:24:14;;:::o;1994:409::-;2188:5;;-1:-1:-1;;;;;2178:15:14;;;2188:5;;2178:15;2169:56;;;;;-1:-1:-1;;;;;2169:56:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;2244:10;-1:-1:-1;;;;;2244:20:14;;;2235:50;;;;;-1:-1:-1;;;;;2235:50:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;2297:15;2327:10;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2316:30:14;;-1:-1:-1;2357:39:14;2367:8;2377:6;2316:30;2357:9;:39::i;:::-;;1994:409;;;;;;:::o;473:50::-;;;;;;;;;;;;-1:-1:-1;;;;;473:50:14;;:::o;1306:42::-;;;;;;;;;;;;;:::o;4775:300::-;4956:1;4944:9;:13;4940:75;;;4973:31;;-1:-1:-1;;;;;4973:20:14;;;4994:9;4973:31;;;;;;;;;4994:9;4973:20;:31;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4973:31:14;4940:75;5024:44;5030:6;5038:11;5051:7;5060;5024:5;:44::i;:::-;4775:300;;;;:::o;620:73:9:-;661:27;677:10;661:15;:27::i;:::-;620:73::o;1814:174:14:-;1903:7;1933:48;1943:10;1955:9;1966:14;1933:9;:48::i;:::-;1926:55;1814:174;-1:-1:-1;;;1814:174:14:o;418:104:9:-;476:4;495:22;476:4;509:7;495:22;:13;:22;:::i;:::-;488:29;418:104;-1:-1:-1;;418:104:9:o;1349:467:29:-;1782:7;1770:20;1804:7;1349:467;:::o;245:68:9:-;284:24;297:10;284:12;:24::i;6014:252:14:-;6098:4;6119:10;6132:22;6143:10;6132;:22::i;:::-;6119:35;;6164:14;6188:36;6207:16;;6188:2;:14;;;:18;;:36;;;;:::i;:::-;6181:3;:43;;6164:60;;6241:5;:18;;;;;6250:9;6241:18;6234:25;6014:252;-1:-1:-1;;;;6014:252:14:o;928:162:25:-;1015:5;-1:-1:-1;;;;;1002:28:25;;1031:2;1035:6;1002:40;;;;;;;;;;;;;-1:-1:-1;;;;;1002:40:25;-1:-1:-1;;;;;1002:40:25;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1002:40:25;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1002:40:25;;;;1054:14;:12;:14::i;:::-;1046:40;;;;;;;-1:-1:-1;;;;;1046:40:25;;;;;;;;;;;;;;;;;;;;;;;;;;;;928:162;;;:::o;697:114:9:-;751:22;:9;765:7;751:22;:13;:22;:::i;:::-;784;;-1:-1:-1;;;;;784:22:9;;;;;;;;697:114;:::o;1345:142:30:-;1430:7;;;1454;;;;1447:15;;;1149:126;1209:7;1235:8;;;;1228:16;;;;-1:-1:-1;1261:7:30;;;1149:126::o;2409:757:14:-;2514:7;2563:3;2546:20;;2537:62;;;;;-1:-1:-1;;;;;2537:62:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;2636:55;;;-1:-1:-1;;;;;2636:55:14;;;;;;;;;;;;;;;;;;;;;;2678:12;2636:55;;;;;;;;;;26:21:-1;;;22:32;;;6:49;;2636:55:14;;;;;;;2626:66;;;;;2702:14;;:::i;:::-;-1:-1:-1;2719:140:14;;;;;;;;;;;;;;;;;;2788:15;2719:140;;;;;;-1:-1:-1;2719:140:14;;;;;;-1:-1:-1;;;;;2719:140:14;;;;;;;;;;;;;;;2889:5;:12;;2869:17;;;:9;:17;;;;;:32;2911:4;:12;;;;;:17;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2719:140;2911:17;;;-1:-1:-1;;2911:17:14;;;-1:-1:-1;;2911:17:14;;;;;;;;;;;;;;;2938:14;;;:10;:14;;;;;27:10:-1;;23:18;;;45:23;;2938:27:14;;;;;;;;;;;;27:10:-1;;23:18;;;45:23;;2975:18:14;;;;;;;;;;;3035:5;;2719:140;;3012:59;;3035:5;2832:2;3054:4;2737:9;3012:22;:59::i;:::-;3086:50;;;;;;-1:-1:-1;;;;;3086:50:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;3153:6:14;2409:757;-1:-1:-1;;;;2409:757:14:o;815:122:9:-;872:25;:9;889:7;872:25;:16;:25;:::i;:::-;908:24;;-1:-1:-1;;;;;908:24:9;;;;;;;;815:122;:::o;732:166:10:-;816:4;-1:-1:-1;;;;;838:21:10;;;;830:30;;;;;;-1:-1:-1;;;;;;873:20:10;:11;:20;;;;;;;;;;;;;;;732:166::o;339:586:25:-;391:4;;512:14;571:36;;;;660:4;655:163;;;;505:385;;571:36;601:1;586:16;;571:36;;655:163;736:4;731:3;726;711:30;809:3;803:10;788:25;;505:385;-1:-1:-1;905:16:25;;;-1:-1:-1;339:586:25;:::o;251:167:10:-;-1:-1:-1;;;;;323:21:10;;;;315:30;;;;;;360:18;364:4;370:7;360:3;:18::i;:::-;359:19;351:28;;;;;;-1:-1:-1;;;;;386:20:10;:11;:20;;;;;;;;;;;:27;;-1:-1:-1;;386:27:10;409:4;386:27;;;251:167::o;1093:194:25:-;1185:50;;;;;;-1:-1:-1;;;;;1185:50:25;;;;;;;;;;;;;;;;;;;;;;:32;;;;;;:50;;;;;-1:-1:-1;;1185:50:25;;;;;;;;-1:-1:-1;1185:32:25;:50;;;5:2:-1;;;;30:1;27;20:12;5:2;1185:50:25;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1185:50:25;;;;1247:14;:12;:14::i;:::-;1239:44;;;;;;;-1:-1:-1;;;;;1239:44:25;;;;;;;;;;;;;;;;;;;;;;;;;;;484:170:10;-1:-1:-1;;;;;559:21:10;;;;551:30;;;;;;595:18;599:4;605:7;595:3;:18::i;:::-;587:27;;;;;;;;-1:-1:-1;;;;;621:20:10;644:5;621:20;;;;;;;;;;;:28;;-1:-1:-1;;621:28:10;;;484:170::o;253:6015:14:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;253:6015:14;;;;;;;;;;;;:::o",
  "source": "pragma solidity >=0.5.0 <0.6.0;\n\nimport \"./XyStakingConsensus.sol\";\nimport \"../utils/SafeMath.sol\";\nimport \"../token/ERC20/SafeERC20.sol\";\nimport \"../token/ERC20/IXYOERC20.sol\";\nimport \"../utils/Initializable.sol\";\nimport \"../access/GovernorRole.sol\";\n\ncontract XyBond is GovernorRole, Initializable {\n    using SafeMath for uint;\n\n    address public erc20;\n    address public consensus;\n    uint public governablePeriod; // seconds after bond creation it's governable\n    mapping (bytes32 => address) public stakeIdManager;\n\n    event BondDeposit(bytes32 bondId, address beneficiary, uint amount, uint expiration);\n    event BondWithdraw(bytes32 bondId, address beneficiary, uint amount);\n    event BondStake(bytes32 bondId, address sender, address beneficiary, uint amount);\n    event BondUnstake(bytes32 bondId, address sender, bytes32 stakingId, uint amount);\n\n    struct Bond {\n        uint value;             // amount staked\n        uint expirationSec;     // expiration date in seconds\n        uint creationSec;       // creation date in seconds\n        uint allocated;         // number allocated to node stake\n        address owner;          // who owns the stake\n        uint8 interest;         // possibly add interest or relationship here\n    }\n\n    mapping (bytes32 => Bond) public bond;\n    mapping (bytes32 => uint) public bondIndex;\n    mapping (address => bytes32[]) public ownerBonds;\n    bytes32[] public bonds;\n\n    function initialize (\n        address _token,\n        address _consensusContract,\n        uint _governablePeriod\n    )\n        initializer \n        public\n    {\n        erc20 = _token;\n        consensus = _consensusContract;\n        governablePeriod = _governablePeriod;\n        super.init();\n    }\n\n    /**\n        Must approve before deposit can transfer in token\n    */\n    function deposit (uint xyoAmount, uint expirationDate) \n        public \n        returns (bytes32)\n    {\n        return depositTo(msg.sender, xyoAmount, expirationDate);\n    }\n\n    function receiveApproval(\n        address _spender, \n        uint256 _value, \n        address _token,\n        bytes calldata _extraData\n    ) \n        external \n    {\n        require (_token == erc20, \"Call from the current token\");\n        require (msg.sender == _token, \"Sender not token\"); \n        (uint expireDate) = abi.decode(_extraData, (uint));\n\n        depositTo(_spender, _value, expireDate);\n    }\n\n    function depositTo (address to, uint xyoAmount, uint expirationDate) \n        internal \n        returns (bytes32)\n    {\n        require (expirationDate > now, \"Expiry must be in the future\");\n        bytes32 bondId = keccak256(abi.encode(to, xyoAmount, expirationDate, block.number));\n        Bond memory ns = Bond(\n            xyoAmount,\n            expirationDate,\n            block.timestamp,\n            0,\n            to,\n            0\n        );\n        bondIndex[bondId] = bonds.length;\n        bond[bondId] = ns;\n        ownerBonds[to].push(bondId);\n        bonds.push(bondId);\n        \n        SafeERC20.transferFrom(erc20, to, address(this), xyoAmount);\n        emit BondDeposit(bondId, to, xyoAmount, expirationDate);\n        return bondId;\n    }\n\n    function withdrawTo (bytes32 bondId, address to) \n        public\n    {\n        Bond storage bs = bond[bondId];\n        uint withdrawAmount = bs.value;\n        require (withdrawAmount > 0, \"Bond has no value\");\n        bs.value = 0; // erase value of bond\n        bool isOwner = msg.sender == bs.owner;\n        require (bs.allocated == 0, \"Bond must have no allocated stake\");\n        require (isOwner || governable(bs), \"owner or governable can withdraw\");\n        if (isOwner) {\n            require (now > bs.expirationSec, \"Bond is still active\");\n        }\n        SafeERC20.transfer(erc20, to, withdrawAmount);\n\n        emit BondWithdraw(bondId, to, withdrawAmount);\n    }\n\n    function stake (bytes32 bondId, address payable beneficiary, address[] memory stakees, uint[] memory amounts)\n        public\n    {\n        Bond storage bs = bond[bondId];\n        bool isOwner = msg.sender == bs.owner;\n        require (isOwner || governable(bs), \"owner or governable can stake\");\n        \n        uint total = 0;\n        for (uint i = 0; i < amounts.length; i++) {\n            total = total.add(amounts[i]);\n        }\n        bs.allocated = bs.allocated.add(total);\n\n        require (bs.allocated <= bs.value, \"Insufficient bond balance\");\n\n        // stake stakees with amounts\n        bytes memory encoded = abi.encode(bondId, beneficiary, stakees, amounts);\n        bytes memory methodData = abi.encode(4, encoded);\n        \n        // stake bonded nodes\n        IXYOERC20(erc20).approveAndCall(consensus, total, methodData);\n\n        emit BondStake(bondId, msg.sender, beneficiary, total);\n    }\n\n    function sendEthAndStake(bytes32 bondId, address payable beneficiary, address[] memory stakees, uint[] memory amounts) \n        public\n        payable\n    {\n        if (msg.value > 0) {\n            beneficiary.transfer(msg.value);\n        }\n        stake(bondId, beneficiary, stakees, amounts);\n    }\n\n    function unstake (bytes32 bondId, bytes32 stakingId) \n        public  \n    {\n        bytes32 checkBondId = XyStakingConsensus(consensus).bondedStake(stakingId);\n        (uint amount,,,,,,) = XyStakingConsensus(consensus).stakeData(stakingId);\n        require(checkBondId == bondId, \"Stake needs to be bonded\");\n\n        Bond storage bs = bond[bondId];\n        require (msg.sender == bs.owner || governable(bs), \"owner or governable can unstake\");\n        \n        require(bs.allocated >= amount, \"Cannot unstake over bond allocation\");\n        bs.allocated = bs.allocated.sub(amount);\n\n        // will fail if already withdrew  \n        XyStakingConsensus(consensus).unstakeBonded(bondId, stakingId);\n\n        emit BondUnstake(bondId, msg.sender, stakingId, amount);\n    }\n\n    function isExpired(bytes32 bondId) \n        public \n        view \n        returns (bool)\n    {\n        return bond[bondId].expirationSec < now;\n    }\n\n    function governable(Bond memory bs) \n        private \n        view\n        returns (bool) \n    {\n        bool isGov = isGovernor(msg.sender);\n        bool govActive = now <= bs.creationSec.add(governablePeriod);\n        return isGov && govActive;\n    }\n}",
  "compiler": {
    "name": "solc",
    "version": "0.5.4+commit.9549d8ff.Emscripten.clang"
  },
  "networks": {
    "42": {
      "links": {},
      "events": {},
      "address": "0xadA734D5e82EeaBE71D36c89A5Fd0cdD84017922",
      "updated_at": 1556322805727
    }
  },
  "schemaVersion": "3.0.6",
  "updatedAt": "2019-04-26T23:50:43.100Z",
  "devdoc": {
    "methods": {}
  },
  "userdoc": {
    "methods": {
      "deposit(uint256,uint256)": {
        "notice": "Must approve before deposit can transfer in token"
      }
    }
  }
}