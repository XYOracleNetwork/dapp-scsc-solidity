{
  "contractName": "XyBond",
  "abi": [
    {
      "constant": false,
      "inputs": [
        {
          "name": "account",
          "type": "address"
        }
      ],
      "name": "addGovernor",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "bonds",
      "outputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "erc20",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "address"
        },
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "ownerBonds",
      "outputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "governablePeriod",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "bond",
      "outputs": [
        {
          "name": "value",
          "type": "uint256"
        },
        {
          "name": "expirationSec",
          "type": "uint256"
        },
        {
          "name": "creationSec",
          "type": "uint256"
        },
        {
          "name": "allocated",
          "type": "uint256"
        },
        {
          "name": "owner",
          "type": "address"
        },
        {
          "name": "interest",
          "type": "uint8"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "consensus",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "stakeIdManager",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "bondIndex",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [],
      "name": "renounceGovernor",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "account",
          "type": "address"
        }
      ],
      "name": "isGovernor",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "beneficiary",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "name": "expiration",
          "type": "uint256"
        }
      ],
      "name": "BondDeposit",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "beneficiary",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "BondWithdraw",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "beneficiary",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "BondStake",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "stakingId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "BondUnstake",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "account",
          "type": "address"
        }
      ],
      "name": "GovernorAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "account",
          "type": "address"
        }
      ],
      "name": "GovernorRemoved",
      "type": "event"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_token",
          "type": "address"
        },
        {
          "name": "_consensusContract",
          "type": "address"
        },
        {
          "name": "_governablePeriod",
          "type": "uint256"
        }
      ],
      "name": "initialize",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "newPeriod",
          "type": "uint256"
        }
      ],
      "name": "setGovernablePeriod",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "xyoAmount",
          "type": "uint256"
        },
        {
          "name": "expirationDate",
          "type": "uint256"
        }
      ],
      "name": "createBond",
      "outputs": [
        {
          "name": "",
          "type": "bytes32"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_spender",
          "type": "address"
        },
        {
          "name": "_value",
          "type": "uint256"
        },
        {
          "name": "_token",
          "type": "address"
        },
        {
          "name": "_extraData",
          "type": "bytes"
        }
      ],
      "name": "receiveApproval",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "name": "to",
          "type": "address"
        }
      ],
      "name": "withdrawTo",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "name": "beneficiary",
          "type": "address"
        },
        {
          "name": "stakees",
          "type": "address[]"
        },
        {
          "name": "amounts",
          "type": "uint256[]"
        }
      ],
      "name": "stake",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "name": "beneficiary",
          "type": "address"
        },
        {
          "name": "stakees",
          "type": "address[]"
        },
        {
          "name": "amounts",
          "type": "uint256[]"
        }
      ],
      "name": "sendEthAndStake",
      "outputs": [],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "bondId",
          "type": "bytes32"
        },
        {
          "name": "stakingId",
          "type": "bytes32"
        }
      ],
      "name": "unstake",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "bondId",
          "type": "bytes32"
        }
      ],
      "name": "isExpired",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "numBonds",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "numOwnerBonds",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50611ec4806100206000396000f3fe608060405260043610610172576000357c01000000000000000000000000000000000000000000000000000000009004806386015ff7116100d8578063b7a8b5111161009c578063dcf3994511610076578063dcf39945146106aa578063e026049c146107e6578063e43581b8146107fb57610172565b8063b7a8b5111461062c578063c3ab722314610656578063c472c4e01461068057610172565b806386015ff7146104cd5780638862eadb146104fd5780638b3ee973146105125780638ef3f7611461057b5780638f4ffcb11461059057610172565b80635f1c17c01161013a578063767e0e1011610114578063767e0e1014610433578063785e9e8614610463578063853394cf1461049457610172565b80635f1c17c0146102825780636db2feb2146102ac57806373194f02146102ea57610172565b80631794bb3c146101775780632e331e6a146101bc578063378088a6146101f55780633c4a25d01461023a578063586a80bf1461026d575b600080fd5b34801561018357600080fd5b506101ba6004803603606081101561019a57600080fd5b50600160a060020a0381358116916020810135909116906040013561082e565b005b3480156101c857600080fd5b506101ba600480360360408110156101df57600080fd5b5080359060200135600160a060020a031661091a565b34801561020157600080fd5b506102286004803603602081101561021857600080fd5b5035600160a060020a0316610b6c565b60408051918252519081900360200190f35b34801561024657600080fd5b506101ba6004803603602081101561025d57600080fd5b5035600160a060020a0316610b87565b34801561027957600080fd5b50610228610bf2565b34801561028e57600080fd5b50610228600480360360208110156102a557600080fd5b5035610bf8565b3480156102b857600080fd5b506102d6600480360360208110156102cf57600080fd5b5035610c17565b604080519115158252519081900360200190f35b3480156102f657600080fd5b506101ba6004803603608081101561030d57600080fd5b813591600160a060020a036020820135169181019060608101604082013564010000000081111561033d57600080fd5b82018360208201111561034f57600080fd5b8035906020019184602083028401116401000000008311171561037157600080fd5b91908080602002602001604051908101604052809392919081815260200183836020028082843760009201919091525092959493602081019350359150506401000000008111156103c157600080fd5b8201836020820111156103d357600080fd5b803590602001918460208302840111640100000000831117156103f557600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929550610c2e945050505050565b34801561043f57600080fd5b506101ba6004803603604081101561045657600080fd5b5080359060200135611088565b34801561046f57600080fd5b50610478611421565b60408051600160a060020a039092168252519081900360200190f35b3480156104a057600080fd5b50610228600480360360408110156104b757600080fd5b50600160a060020a038135169060200135611430565b3480156104d957600080fd5b50610228600480360360408110156104f057600080fd5b5080359060200135611460565b34801561050957600080fd5b50610228611474565b34801561051e57600080fd5b5061053c6004803603602081101561053557600080fd5b503561147a565b604080519687526020870195909552858501939093526060850191909152600160a060020a0316608084015260ff1660a0830152519081900360c00190f35b34801561058757600080fd5b506104786114cf565b34801561059c57600080fd5b506101ba600480360360808110156105b357600080fd5b600160a060020a0382358116926020810135926040820135909216918101906080810160608201356401000000008111156105ed57600080fd5b8201836020820111156105ff57600080fd5b8035906020019184600183028401116401000000008311171561062157600080fd5b5090925090506114de565b34801561063857600080fd5b506104786004803603602081101561064f57600080fd5b50356115cd565b34801561066257600080fd5b506101ba6004803603602081101561067957600080fd5b50356115e8565b34801561068c57600080fd5b50610228600480360360208110156106a357600080fd5b50356116a7565b6101ba600480360360808110156106c057600080fd5b813591600160a060020a03602082013516918101906060810160408201356401000000008111156106f057600080fd5b82018360208201111561070257600080fd5b8035906020019184602083028401116401000000008311171561072457600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929594936020810193503591505064010000000081111561077457600080fd5b82018360208201111561078657600080fd5b803590602001918460208302840111640100000000831117156107a857600080fd5b9190808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152509295506116b9945050505050565b3480156107f257600080fd5b506101ba61170b565b34801561080757600080fd5b506102d66004803603602081101561081e57600080fd5b5035600160a060020a0316611716565b600154610100900460ff1680610847575061084761172e565b80610855575060015460ff16155b15156108955760405160e560020a62461bcd02815260040180806020018281038252602e815260200180611dfd602e913960400191505060405180910390fd5b6001805461010061ff00198216811760ff191683179092556034805473ffffffffffffffffffffffffffffffffffffffff19908116600160a060020a03888116919091179092556035805490911691861691909117905560368390550460ff166108fd611734565b600180549115156101000261ff0019909216919091179055505050565b6000828152603860205260408120805490918111610982576040805160e560020a62461bcd02815260206004820152601160248201527f426f6e6420686173206e6f2076616c7565000000000000000000000000000000604482015290519081900360640190fd5b6000825560048201546003830154600160a060020a03909116331490156109dd5760405160e560020a62461bcd028152600401808060200182810382526021815260200180611e786021913960400191505060405180910390fd5b8080610a4f57506040805160c0810182528454815260018501546020820152600285015491810191909152600384015460608201526004840154600160a060020a038116608083015274010000000000000000000000000000000000000000900460ff1660a0820152610a4f9061173d565b1515610aa5576040805160e560020a62461bcd02815260206004820181905260248201527f6f776e6572206f7220676f7665726e61626c652063616e207769746864726177604482015290519081900360640190fd5b8015610b065760018301544211610b06576040805160e560020a62461bcd02815260206004820152601460248201527f426f6e64206973207374696c6c20616374697665000000000000000000000000604482015290519081900360640190fd5b603454610b1d90600160a060020a0316858461177d565b60408051868152600160a060020a038616602082015280820184905290517fc15103656f6b64cd545b27cff5200a514f316fafe20fdbecfb7369781fcd14359181900360600190a15050505050565b600160a060020a03166000908152603a602052604090205490565b610b9033611716565b1515610be6576040805160e560020a62461bcd02815260206004820152601460248201527f4f6e6c7920476f7665726e6f7220416374696f6e000000000000000000000000604482015290519081900360640190fd5b610bef81611874565b50565b603b5490565b603b805482908110610c0657fe5b600091825260209091200154905081565b600090815260386020526040902060010154421190565b60008481526038602052604090206004810154600160a060020a031633148080610cbe57506040805160c0810182528354815260018401546020820152600284015491810191909152600383015460608201526004830154600160a060020a038116608083015274010000000000000000000000000000000000000000900460ff1660a0820152610cbe9061173d565b1515610d14576040805160e560020a62461bcd02815260206004820152601d60248201527f6f776e6572206f7220676f7665726e61626c652063616e207374616b65000000604482015290519081900360640190fd5b6000805b8451811015610d5357610d498582815181101515610d3257fe5b60209081029091010151839063ffffffff6118bc16565b9150600101610d18565b506003830154610d69908263ffffffff6118bc16565b6003840181905583541015610dc8576040805160e560020a62461bcd02815260206004820152601960248201527f496e73756666696369656e7420626f6e642062616c616e636500000000000000604482015290519081900360640190fd5b6060878787876040516020018085815260200184600160a060020a0316600160a060020a031681526020018060200180602001838103835285818151815260200191508051906020019060200280838360005b83811015610e33578181015183820152602001610e1b565b50505050905001838103825284818151815260200191508051906020019060200280838360005b83811015610e72578181015183820152602001610e5a565b50505050905001965050505050505060405160208183030381529060405290506060600482604051602001808360ff16815260200180602001828103825283818151815260200191508051906020019080838360005b83811015610ee0578181015183820152602001610ec8565b50505050905090810190601f168015610f0d5780820380516001836020036101000a031916815260200191505b5060408051601f19818403018152908290526034546035547fcae9ca51000000000000000000000000000000000000000000000000000000008452600160a060020a0390811660048501818152602486018d9052606060448701908152855160648801528551959b5092909316985063cae9ca51975095508a945088939192909160840190602085019080838360005b83811015610fb5578181015183820152602001610f9d565b50505050905090810190601f168015610fe25780820380516001836020036101000a031916815260200191505b50945050505050602060405180830381600087803b15801561100357600080fd5b505af1158015611017573d6000803e3d6000fd5b505050506040513d602081101561102d57600080fd5b5050604080518a8152336020820152600160a060020a038a16818301526060810185905290517f42e7044c4f07599463ab916896808dec08d53a4d63c09608065f9fa448d5ce829181900360800190a1505050505050505050565b603554604080517f1e23f2f9000000000000000000000000000000000000000000000000000000008152600481018490529051600092600160a060020a031691631e23f2f9916024808301926020929190829003018186803b1580156110ed57600080fd5b505afa158015611101573d6000803e3d6000fd5b505050506040513d602081101561111757600080fd5b5051603554604080517f5652c52f000000000000000000000000000000000000000000000000000000008152600481018690529051929350600092600160a060020a0390921691635652c52f9160248082019260e092909190829003018186803b15801561118457600080fd5b505afa158015611198573d6000803e3d6000fd5b505050506040513d60e08110156111ae57600080fd5b50519050818414611209576040805160e560020a62461bcd02815260206004820152601860248201527f5374616b65206e6565647320746f20626520626f6e6465640000000000000000604482015290519081900360640190fd5b60008481526038602052604090206004810154600160a060020a031633148061129857506040805160c0810182528254815260018301546020820152600283015491810191909152600382015460608201526004820154600160a060020a038116608083015274010000000000000000000000000000000000000000900460ff1660a08201526112989061173d565b15156112ee576040805160e560020a62461bcd02815260206004820152601f60248201527f6f776e6572206f7220676f7665726e61626c652063616e20756e7374616b6500604482015290519081900360640190fd5b60038101548211156113345760405160e560020a62461bcd028152600401808060200182810382526023815260200180611dda6023913960400191505060405180910390fd5b6003810154611349908363ffffffff6118c916565b6003820155603554604080517fd78b37ed00000000000000000000000000000000000000000000000000000000815260048101889052602481018790529051600160a060020a039092169163d78b37ed9160448082019260009290919082900301818387803b1580156113bb57600080fd5b505af11580156113cf573d6000803e3d6000fd5b5050604080518881523360208201528082018890526060810186905290517f687f705929669882a184d4123148de163cc23c02682e756263a0259955ea3e789350908190036080019150a15050505050565b603454600160a060020a031681565b603a6020528160005260406000208181548110151561144b57fe5b90600052602060002001600091509150505481565b600061146d3384846118db565b9392505050565b60365481565b6038602052600090815260409020805460018201546002830154600384015460049094015492939192909190600160a060020a0381169074010000000000000000000000000000000000000000900460ff1686565b603554600160a060020a031681565b603454600160a060020a03848116911614611543576040805160e560020a62461bcd02815260206004820152601b60248201527f43616c6c2066726f6d207468652063757272656e7420746f6b656e0000000000604482015290519081900360640190fd5b33600160a060020a038416146115a3576040805160e560020a62461bcd02815260206004820152601060248201527f53656e646572206e6f7420746f6b656e00000000000000000000000000000000604482015290519081900360640190fd5b6000828260208110156115b557600080fd5b503590506115c48686836118db565b50505050505050565b603760205260009081526040902054600160a060020a031681565b6115f133611716565b1515611647576040805160e560020a62461bcd02815260206004820152601460248201527f4f6e6c7920476f7665726e6f7220416374696f6e000000000000000000000000604482015290519081900360640190fd5b6301e1338081106116a2576040805160e560020a62461bcd02815260206004820152601c60248201527f4f76657220676f7665726e61626c6520706572696f64206c696d697400000000604482015290519081900360640190fd5b603655565b60396020526000908152604090205481565b60003411156116f957604051600160a060020a038416903480156108fc02916000818181858888f193505050501580156116f7573d6000803e3d6000fd5b505b61170584848484610c2e565b50505050565b61171433611b60565b565b6000611728818363ffffffff611ba816565b92915050565b303b1590565b61171433611874565b60008061174933611716565b9050600061176660365485604001516118bc90919063ffffffff16565b42111590508180156117755750805b949350505050565b82600160a060020a031663a9059cbb83836040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083600160a060020a0316600160a060020a0316815260200182815260200192505050600060405180830381600087803b1580156117f957600080fd5b505af115801561180d573d6000803e3d6000fd5b50505050611819611bdf565b151561186f576040805160e560020a62461bcd02815260206004820152600d60248201527f7472616e73666572206661696c00000000000000000000000000000000000000604482015290519081900360640190fd5b505050565b61188560008263ffffffff611c1316565b604051600160a060020a038216907fdc5a48d79e2e147530ff63ecdbed5a5a66adb9d5cf339384d5d076da197c40b590600090a250565b8181018281101561172857fe5b6000828211156118d557fe5b50900390565b60006118f142633864090063ffffffff6118bc16565b82106119315760405160e560020a62461bcd028152600401808060200182810382526021815260200180611e2b6021913960400191505060405180910390fd5b611944426202a30063ffffffff6118bc16565b82116119845760405160e560020a62461bcd02815260040180806020018281038252602c815260200180611e4c602c913960400191505060405180910390fd5b60408051600160a060020a03861660208083019190915281830186905260608201859052436080808401919091528351808403909101815260a090920190925280519101206119d1611d96565b506040805160c081018252858152602080820186815242838501908152600060608501818152600160a060020a03808d166080880181815260a08901858152603b80548d885260398b528c88205560388a528b87208b51815598516001808b0191909155975160028a015594516003890155905160049097018054915160ff16740100000000000000000000000000000000000000000274ff00000000000000000000000000000000000000001998851673ffffffffffffffffffffffffffffffffffffffff19909316929092179790971617909555938252603a85529581208054808401825590825293812090930186905584549081018555939091527fbbe3212124853f8b0084a66a2d057c2966e251e132af3691db153ab65f0d1a4d9092018390556034549091611b089116873088611c61565b60408051838152600160a060020a03881660208201528082018790526060810186905290517f3db8638351f2d0f91f71603c1096c8170b9c1af65d6d548492a3857ba71fd6f99181900360800190a150949350505050565b611b7160008263ffffffff611d4a16565b604051600160a060020a038216907f1ebe834e73d60a5fec822c1e1727d34bc79f2ad977ed504581cc1822fe20fb5b90600090a250565b6000600160a060020a0382161515611bbf57600080fd5b50600160a060020a03166000908152602091909152604090205460ff1690565b6000803d8015611bf65760208114611bff57611c0b565b60019150611c0b565b60206000803e60005191505b501515905090565b600160a060020a0381161515611c2857600080fd5b611c328282611ba8565b15611c3c57600080fd5b600160a060020a0316600090815260209190915260409020805460ff19166001179055565b604080517f23b872dd000000000000000000000000000000000000000000000000000000008152600160a060020a0385811660048301528481166024830152604482018490529151918616916323b872dd9160648082019260009290919082900301818387803b158015611cd457600080fd5b505af1158015611ce8573d6000803e3d6000fd5b50505050611cf4611bdf565b1515611705576040805160e560020a62461bcd02815260206004820152601160248201527f7472616e7366657246726f6d206661696c000000000000000000000000000000604482015290519081900360640190fd5b600160a060020a0381161515611d5f57600080fd5b611d698282611ba8565b1515611d7457600080fd5b600160a060020a0316600090815260209190915260409020805460ff19169055565b60c060405190810160405280600081526020016000815260200160008152602001600081526020016000600160a060020a03168152602001600060ff168152509056fe43616e6e6f7420756e7374616b65206f76657220626f6e6420616c6c6f636174696f6e436f6e747261637420696e7374616e63652068617320616c7265616479206265656e20696e697469616c697a6564457870697279206d757374206265206c657373207468616e203330207965617273457870697279206d757374206265206174206c656173742032206461797320696e2074686520667574757265426f6e64206d7573742068617665206e6f20616c6c6f6361746564207374616b65a165627a7a723058207926f40561dea302c74fa8b8b65fc9bf269125a67c607cd4417f4803e216b5ee0029",
  "deployedBytecode": "0x608060405260043610610172576000357c01000000000000000000000000000000000000000000000000000000009004806386015ff7116100d8578063b7a8b5111161009c578063dcf3994511610076578063dcf39945146106aa578063e026049c146107e6578063e43581b8146107fb57610172565b8063b7a8b5111461062c578063c3ab722314610656578063c472c4e01461068057610172565b806386015ff7146104cd5780638862eadb146104fd5780638b3ee973146105125780638ef3f7611461057b5780638f4ffcb11461059057610172565b80635f1c17c01161013a578063767e0e1011610114578063767e0e1014610433578063785e9e8614610463578063853394cf1461049457610172565b80635f1c17c0146102825780636db2feb2146102ac57806373194f02146102ea57610172565b80631794bb3c146101775780632e331e6a146101bc578063378088a6146101f55780633c4a25d01461023a578063586a80bf1461026d575b600080fd5b34801561018357600080fd5b506101ba6004803603606081101561019a57600080fd5b50600160a060020a0381358116916020810135909116906040013561082e565b005b3480156101c857600080fd5b506101ba600480360360408110156101df57600080fd5b5080359060200135600160a060020a031661091a565b34801561020157600080fd5b506102286004803603602081101561021857600080fd5b5035600160a060020a0316610b6c565b60408051918252519081900360200190f35b34801561024657600080fd5b506101ba6004803603602081101561025d57600080fd5b5035600160a060020a0316610b87565b34801561027957600080fd5b50610228610bf2565b34801561028e57600080fd5b50610228600480360360208110156102a557600080fd5b5035610bf8565b3480156102b857600080fd5b506102d6600480360360208110156102cf57600080fd5b5035610c17565b604080519115158252519081900360200190f35b3480156102f657600080fd5b506101ba6004803603608081101561030d57600080fd5b813591600160a060020a036020820135169181019060608101604082013564010000000081111561033d57600080fd5b82018360208201111561034f57600080fd5b8035906020019184602083028401116401000000008311171561037157600080fd5b91908080602002602001604051908101604052809392919081815260200183836020028082843760009201919091525092959493602081019350359150506401000000008111156103c157600080fd5b8201836020820111156103d357600080fd5b803590602001918460208302840111640100000000831117156103f557600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929550610c2e945050505050565b34801561043f57600080fd5b506101ba6004803603604081101561045657600080fd5b5080359060200135611088565b34801561046f57600080fd5b50610478611421565b60408051600160a060020a039092168252519081900360200190f35b3480156104a057600080fd5b50610228600480360360408110156104b757600080fd5b50600160a060020a038135169060200135611430565b3480156104d957600080fd5b50610228600480360360408110156104f057600080fd5b5080359060200135611460565b34801561050957600080fd5b50610228611474565b34801561051e57600080fd5b5061053c6004803603602081101561053557600080fd5b503561147a565b604080519687526020870195909552858501939093526060850191909152600160a060020a0316608084015260ff1660a0830152519081900360c00190f35b34801561058757600080fd5b506104786114cf565b34801561059c57600080fd5b506101ba600480360360808110156105b357600080fd5b600160a060020a0382358116926020810135926040820135909216918101906080810160608201356401000000008111156105ed57600080fd5b8201836020820111156105ff57600080fd5b8035906020019184600183028401116401000000008311171561062157600080fd5b5090925090506114de565b34801561063857600080fd5b506104786004803603602081101561064f57600080fd5b50356115cd565b34801561066257600080fd5b506101ba6004803603602081101561067957600080fd5b50356115e8565b34801561068c57600080fd5b50610228600480360360208110156106a357600080fd5b50356116a7565b6101ba600480360360808110156106c057600080fd5b813591600160a060020a03602082013516918101906060810160408201356401000000008111156106f057600080fd5b82018360208201111561070257600080fd5b8035906020019184602083028401116401000000008311171561072457600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250929594936020810193503591505064010000000081111561077457600080fd5b82018360208201111561078657600080fd5b803590602001918460208302840111640100000000831117156107a857600080fd5b9190808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152509295506116b9945050505050565b3480156107f257600080fd5b506101ba61170b565b34801561080757600080fd5b506102d66004803603602081101561081e57600080fd5b5035600160a060020a0316611716565b600154610100900460ff1680610847575061084761172e565b80610855575060015460ff16155b15156108955760405160e560020a62461bcd02815260040180806020018281038252602e815260200180611dfd602e913960400191505060405180910390fd5b6001805461010061ff00198216811760ff191683179092556034805473ffffffffffffffffffffffffffffffffffffffff19908116600160a060020a03888116919091179092556035805490911691861691909117905560368390550460ff166108fd611734565b600180549115156101000261ff0019909216919091179055505050565b6000828152603860205260408120805490918111610982576040805160e560020a62461bcd02815260206004820152601160248201527f426f6e6420686173206e6f2076616c7565000000000000000000000000000000604482015290519081900360640190fd5b6000825560048201546003830154600160a060020a03909116331490156109dd5760405160e560020a62461bcd028152600401808060200182810382526021815260200180611e786021913960400191505060405180910390fd5b8080610a4f57506040805160c0810182528454815260018501546020820152600285015491810191909152600384015460608201526004840154600160a060020a038116608083015274010000000000000000000000000000000000000000900460ff1660a0820152610a4f9061173d565b1515610aa5576040805160e560020a62461bcd02815260206004820181905260248201527f6f776e6572206f7220676f7665726e61626c652063616e207769746864726177604482015290519081900360640190fd5b8015610b065760018301544211610b06576040805160e560020a62461bcd02815260206004820152601460248201527f426f6e64206973207374696c6c20616374697665000000000000000000000000604482015290519081900360640190fd5b603454610b1d90600160a060020a0316858461177d565b60408051868152600160a060020a038616602082015280820184905290517fc15103656f6b64cd545b27cff5200a514f316fafe20fdbecfb7369781fcd14359181900360600190a15050505050565b600160a060020a03166000908152603a602052604090205490565b610b9033611716565b1515610be6576040805160e560020a62461bcd02815260206004820152601460248201527f4f6e6c7920476f7665726e6f7220416374696f6e000000000000000000000000604482015290519081900360640190fd5b610bef81611874565b50565b603b5490565b603b805482908110610c0657fe5b600091825260209091200154905081565b600090815260386020526040902060010154421190565b60008481526038602052604090206004810154600160a060020a031633148080610cbe57506040805160c0810182528354815260018401546020820152600284015491810191909152600383015460608201526004830154600160a060020a038116608083015274010000000000000000000000000000000000000000900460ff1660a0820152610cbe9061173d565b1515610d14576040805160e560020a62461bcd02815260206004820152601d60248201527f6f776e6572206f7220676f7665726e61626c652063616e207374616b65000000604482015290519081900360640190fd5b6000805b8451811015610d5357610d498582815181101515610d3257fe5b60209081029091010151839063ffffffff6118bc16565b9150600101610d18565b506003830154610d69908263ffffffff6118bc16565b6003840181905583541015610dc8576040805160e560020a62461bcd02815260206004820152601960248201527f496e73756666696369656e7420626f6e642062616c616e636500000000000000604482015290519081900360640190fd5b6060878787876040516020018085815260200184600160a060020a0316600160a060020a031681526020018060200180602001838103835285818151815260200191508051906020019060200280838360005b83811015610e33578181015183820152602001610e1b565b50505050905001838103825284818151815260200191508051906020019060200280838360005b83811015610e72578181015183820152602001610e5a565b50505050905001965050505050505060405160208183030381529060405290506060600482604051602001808360ff16815260200180602001828103825283818151815260200191508051906020019080838360005b83811015610ee0578181015183820152602001610ec8565b50505050905090810190601f168015610f0d5780820380516001836020036101000a031916815260200191505b5060408051601f19818403018152908290526034546035547fcae9ca51000000000000000000000000000000000000000000000000000000008452600160a060020a0390811660048501818152602486018d9052606060448701908152855160648801528551959b5092909316985063cae9ca51975095508a945088939192909160840190602085019080838360005b83811015610fb5578181015183820152602001610f9d565b50505050905090810190601f168015610fe25780820380516001836020036101000a031916815260200191505b50945050505050602060405180830381600087803b15801561100357600080fd5b505af1158015611017573d6000803e3d6000fd5b505050506040513d602081101561102d57600080fd5b5050604080518a8152336020820152600160a060020a038a16818301526060810185905290517f42e7044c4f07599463ab916896808dec08d53a4d63c09608065f9fa448d5ce829181900360800190a1505050505050505050565b603554604080517f1e23f2f9000000000000000000000000000000000000000000000000000000008152600481018490529051600092600160a060020a031691631e23f2f9916024808301926020929190829003018186803b1580156110ed57600080fd5b505afa158015611101573d6000803e3d6000fd5b505050506040513d602081101561111757600080fd5b5051603554604080517f5652c52f000000000000000000000000000000000000000000000000000000008152600481018690529051929350600092600160a060020a0390921691635652c52f9160248082019260e092909190829003018186803b15801561118457600080fd5b505afa158015611198573d6000803e3d6000fd5b505050506040513d60e08110156111ae57600080fd5b50519050818414611209576040805160e560020a62461bcd02815260206004820152601860248201527f5374616b65206e6565647320746f20626520626f6e6465640000000000000000604482015290519081900360640190fd5b60008481526038602052604090206004810154600160a060020a031633148061129857506040805160c0810182528254815260018301546020820152600283015491810191909152600382015460608201526004820154600160a060020a038116608083015274010000000000000000000000000000000000000000900460ff1660a08201526112989061173d565b15156112ee576040805160e560020a62461bcd02815260206004820152601f60248201527f6f776e6572206f7220676f7665726e61626c652063616e20756e7374616b6500604482015290519081900360640190fd5b60038101548211156113345760405160e560020a62461bcd028152600401808060200182810382526023815260200180611dda6023913960400191505060405180910390fd5b6003810154611349908363ffffffff6118c916565b6003820155603554604080517fd78b37ed00000000000000000000000000000000000000000000000000000000815260048101889052602481018790529051600160a060020a039092169163d78b37ed9160448082019260009290919082900301818387803b1580156113bb57600080fd5b505af11580156113cf573d6000803e3d6000fd5b5050604080518881523360208201528082018890526060810186905290517f687f705929669882a184d4123148de163cc23c02682e756263a0259955ea3e789350908190036080019150a15050505050565b603454600160a060020a031681565b603a6020528160005260406000208181548110151561144b57fe5b90600052602060002001600091509150505481565b600061146d3384846118db565b9392505050565b60365481565b6038602052600090815260409020805460018201546002830154600384015460049094015492939192909190600160a060020a0381169074010000000000000000000000000000000000000000900460ff1686565b603554600160a060020a031681565b603454600160a060020a03848116911614611543576040805160e560020a62461bcd02815260206004820152601b60248201527f43616c6c2066726f6d207468652063757272656e7420746f6b656e0000000000604482015290519081900360640190fd5b33600160a060020a038416146115a3576040805160e560020a62461bcd02815260206004820152601060248201527f53656e646572206e6f7420746f6b656e00000000000000000000000000000000604482015290519081900360640190fd5b6000828260208110156115b557600080fd5b503590506115c48686836118db565b50505050505050565b603760205260009081526040902054600160a060020a031681565b6115f133611716565b1515611647576040805160e560020a62461bcd02815260206004820152601460248201527f4f6e6c7920476f7665726e6f7220416374696f6e000000000000000000000000604482015290519081900360640190fd5b6301e1338081106116a2576040805160e560020a62461bcd02815260206004820152601c60248201527f4f76657220676f7665726e61626c6520706572696f64206c696d697400000000604482015290519081900360640190fd5b603655565b60396020526000908152604090205481565b60003411156116f957604051600160a060020a038416903480156108fc02916000818181858888f193505050501580156116f7573d6000803e3d6000fd5b505b61170584848484610c2e565b50505050565b61171433611b60565b565b6000611728818363ffffffff611ba816565b92915050565b303b1590565b61171433611874565b60008061174933611716565b9050600061176660365485604001516118bc90919063ffffffff16565b42111590508180156117755750805b949350505050565b82600160a060020a031663a9059cbb83836040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083600160a060020a0316600160a060020a0316815260200182815260200192505050600060405180830381600087803b1580156117f957600080fd5b505af115801561180d573d6000803e3d6000fd5b50505050611819611bdf565b151561186f576040805160e560020a62461bcd02815260206004820152600d60248201527f7472616e73666572206661696c00000000000000000000000000000000000000604482015290519081900360640190fd5b505050565b61188560008263ffffffff611c1316565b604051600160a060020a038216907fdc5a48d79e2e147530ff63ecdbed5a5a66adb9d5cf339384d5d076da197c40b590600090a250565b8181018281101561172857fe5b6000828211156118d557fe5b50900390565b60006118f142633864090063ffffffff6118bc16565b82106119315760405160e560020a62461bcd028152600401808060200182810382526021815260200180611e2b6021913960400191505060405180910390fd5b611944426202a30063ffffffff6118bc16565b82116119845760405160e560020a62461bcd02815260040180806020018281038252602c815260200180611e4c602c913960400191505060405180910390fd5b60408051600160a060020a03861660208083019190915281830186905260608201859052436080808401919091528351808403909101815260a090920190925280519101206119d1611d96565b506040805160c081018252858152602080820186815242838501908152600060608501818152600160a060020a03808d166080880181815260a08901858152603b80548d885260398b528c88205560388a528b87208b51815598516001808b0191909155975160028a015594516003890155905160049097018054915160ff16740100000000000000000000000000000000000000000274ff00000000000000000000000000000000000000001998851673ffffffffffffffffffffffffffffffffffffffff19909316929092179790971617909555938252603a85529581208054808401825590825293812090930186905584549081018555939091527fbbe3212124853f8b0084a66a2d057c2966e251e132af3691db153ab65f0d1a4d9092018390556034549091611b089116873088611c61565b60408051838152600160a060020a03881660208201528082018790526060810186905290517f3db8638351f2d0f91f71603c1096c8170b9c1af65d6d548492a3857ba71fd6f99181900360800190a150949350505050565b611b7160008263ffffffff611d4a16565b604051600160a060020a038216907f1ebe834e73d60a5fec822c1e1727d34bc79f2ad977ed504581cc1822fe20fb5b90600090a250565b6000600160a060020a0382161515611bbf57600080fd5b50600160a060020a03166000908152602091909152604090205460ff1690565b6000803d8015611bf65760208114611bff57611c0b565b60019150611c0b565b60206000803e60005191505b501515905090565b600160a060020a0381161515611c2857600080fd5b611c328282611ba8565b15611c3c57600080fd5b600160a060020a0316600090815260209190915260409020805460ff19166001179055565b604080517f23b872dd000000000000000000000000000000000000000000000000000000008152600160a060020a0385811660048301528481166024830152604482018490529151918616916323b872dd9160648082019260009290919082900301818387803b158015611cd457600080fd5b505af1158015611ce8573d6000803e3d6000fd5b50505050611cf4611bdf565b1515611705576040805160e560020a62461bcd02815260206004820152601160248201527f7472616e7366657246726f6d206661696c000000000000000000000000000000604482015290519081900360640190fd5b600160a060020a0381161515611d5f57600080fd5b611d698282611ba8565b1515611d7457600080fd5b600160a060020a0316600090815260209190915260409020805460ff19169055565b60c060405190810160405280600081526020016000815260200160008152602001600081526020016000600160a060020a03168152602001600060ff168152509056fe43616e6e6f7420756e7374616b65206f76657220626f6e6420616c6c6f636174696f6e436f6e747261637420696e7374616e63652068617320616c7265616479206265656e20696e697469616c697a6564457870697279206d757374206265206c657373207468616e203330207965617273457870697279206d757374206265206174206c656173742032206461797320696e2074686520667574757265426f6e64206d7573742068617665206e6f20616c6c6f6361746564207374616b65a165627a7a723058207926f40561dea302c74fa8b8b65fc9bf269125a67c607cd4417f4803e216b5ee0029",
  "sourceMap": "253:6616:14:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;253:6616:14;;;;;;;",
  "deployedSourceMap": "253:6616:14:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1437:298;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1437:298:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;;;;;1437:298:14;;;;;;;;;;;;;;;;;:::i;:::-;;3565:676;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3565:676:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;3565:676:14;;;;;;-1:-1:-1;;;;;3565:676:14;;:::i;6754:113::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;6754:113:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;6754:113:14;-1:-1:-1;;;;;6754:113:14;;:::i;:::-;;;;;;;;;;;;;;;;526:90:9;;8:9:-1;5:2;;;30:1;27;20:12;5:2;526:90:9;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;526:90:9;-1:-1:-1;;;;;526:90:9;;:::i;6665:83:14:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;6665:83:14;;;:::i;1408:22::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1408:22:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1408:22:14;;:::i;6252:149::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;6252:149:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;6252:149:14;;:::i;:::-;;;;;;;;;;;;;;;;;;4247:915;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4247:915:14;;;;;;13:3:-1;8;5:12;2:2;;;30:1;27;20:12;2:2;4247:915:14;;;-1:-1:-1;;;;;4247:915:14;;;;;;;;;;;;;;;;21:11:-1;5:28;;2:2;;;46:1;43;36:12;2:2;4247:915:14;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;4247:915:14;;;;;;101:9:-1;95:2;81:12;77:21;67:8;63:36;60:51;39:11;25:12;22:29;11:108;8:2;;;132:1;129;122:12;8:2;4247:915:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;4247:915:14;;;;;;;;-1:-1:-1;4247:915:14;;-1:-1:-1;;21:11;5:28;;2:2;;;46:1;43;36:12;2:2;4247:915:14;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;4247:915:14;;;;;;101:9:-1;95:2;81:12;77:21;67:8;63:36;60:51;39:11;25:12;22:29;11:108;8:2;;;132:1;129;122:12;8:2;4247:915:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;4247:915:14;;-1:-1:-1;4247:915:14;;-1:-1:-1;;;;;4247:915:14:i;5474:772::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;5474:772:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;5474:772:14;;;;;;;:::i;336:20::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;336:20:14;;;:::i;:::-;;;;-1:-1:-1;;;;;336:20:14;;;;;;;;;;;;;;1354:48;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1354:48:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;;;;;1354:48:14;;;;;;;;:::i;2079:179::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2079:179:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2079:179:14;;;;;;;:::i;392:28::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;392:28:14;;;:::i;1263:37::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1263:37:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1263:37:14;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1263:37:14;;;;;;;;;;;;;;;;;;;;362:24;;8:9:-1;5:2;;;30:1;27;20:12;5:2;362:24:14;;;:::i;2264:411::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2264:411:14;;;;;;13:3:-1;8;5:12;2:2;;;30:1;27;20:12;2:2;-1:-1;;;;;2264:411:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;21:11:-1;5:28;;2:2;;;46:1;43;36:12;2:2;2264:411:14;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;2264:411:14;;;;;;100:9:-1;95:1;81:12;77:20;67:8;63:35;60:50;39:11;25:12;22:29;11:107;8:2;;;131:1;128;121:12;8:2;-1:-1;2264:411:14;;-1:-1:-1;2264:411:14;-1:-1:-1;2264:411:14;:::i;473:50::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;473:50:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;473:50:14;;:::i;1741:259::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1741:259:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1741:259:14;;:::i;1306:42::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1306:42:14;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1306:42:14;;:::i;5168:300::-;;;;;;13:3:-1;8;5:12;2:2;;;30:1;27;20:12;2:2;5168:300:14;;;-1:-1:-1;;;;;5168:300:14;;;;;;;;;;;;;;;;21:11:-1;5:28;;2:2;;;46:1;43;36:12;2:2;5168:300:14;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;5168:300:14;;;;;;101:9:-1;95:2;81:12;77:21;67:8;63:36;60:51;39:11;25:12;22:29;11:108;8:2;;;132:1;129;122:12;8:2;5168:300:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;5168:300:14;;;;;;;;-1:-1:-1;5168:300:14;;-1:-1:-1;;21:11;5:28;;2:2;;;46:1;43;36:12;2:2;5168:300:14;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;5168:300:14;;;;;;101:9:-1;95:2;81:12;77:21;67:8;63:36;60:51;39:11;25:12;22:29;11:108;8:2;;;132:1;129;122:12;8:2;5168:300:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;81:16;;74:27;;;;-1:-1;5168:300:14;;-1:-1:-1;5168:300:14;;-1:-1:-1;;;;;5168:300:14:i;620:73:9:-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;620:73:9;;;:::i;418:104::-;;8:9:-1;5:2;;;30:1;27;20:12;5:2;418:104:9;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;418:104:9;-1:-1:-1;;;;;418:104:9;;:::i;1437:298:14:-;1024:12:29;;;;;;;;:31;;;1040:15;:13;:15::i;:::-;1024:47;;;-1:-1:-1;1060:11:29;;;;1059:12;1024:47;1016:106;;;;;;-1:-1:-1;;;;;1016:106:29;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1152:12;;;;-1:-1:-1;;1170:19:29;;;;-1:-1:-1;;1195:18:29;;;;;;1606:5:14;:14;;-1:-1:-1;;1606:14:14;;;-1:-1:-1;;;;;1606:14:14;;;;;;;;;;1630:9;:30;;;;;;;;;;;;;;1670:16;:36;;;1152:12:29;;;1716::14;:10;:12::i;:::-;1228::29;:30;;;;;;;-1:-1:-1;;1228:30:29;;;;;;;;;-1:-1:-1;;;1437:298:14:o;3565:676::-;3644:15;3662:12;;;:4;:12;;;;;3706:8;;3662:12;;3733:18;;3724:49;;;;;-1:-1:-1;;;;;3724:49:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;3794:1;3783:12;;3857:8;;;;3884:12;;;;-1:-1:-1;;;;;3857:8:14;;;3843:10;:22;;3884:17;3875:64;;;;-1:-1:-1;;;;;3875:64:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3958:7;:25;;;-1:-1:-1;3969:14:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;3969:14:14;;;;;;;;;;;;;;;;;:10;:14::i;:::-;3949:71;;;;;;;-1:-1:-1;;;;;3949:71:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4034:7;4030:94;;;4072:16;;;;4066:3;:22;4057:56;;;;;-1:-1:-1;;;;;4057:56:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;4152:5;;4133:45;;-1:-1:-1;;;;;4152:5:14;4159:2;4163:14;4133:18;:45::i;:::-;4194:40;;;;;;-1:-1:-1;;;;;4194:40:14;;;;;;;;;;;;;;;;;;;;;;;3565:676;;;;;:::o;6754:113::-;-1:-1:-1;;;;;6836:17:14;6813:4;6836:17;;;:10;:17;;;;;:24;;6754:113::o;526:90:9:-;355:22;366:10;355;:22::i;:::-;347:55;;;;;;;-1:-1:-1;;;;;347:55:9;;;;;;;;;;;;;;;;;;;;;;;;;;;;590:21;603:7;590:12;:21::i;:::-;526:90;:::o;6665:83:14:-;6729:5;:12;6665:83;:::o;1408:22::-;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;1408:22:14;:::o;6252:149::-;6335:4;6362:12;;;:4;:12;;;;;:26;;;6391:3;-1:-1:-1;;6252:149:14:o;4247:915::-;4386:15;4404:12;;;:4;:12;;;;;4455:8;;;;-1:-1:-1;;;;;4455:8:14;4441:10;:22;;;4482:25;;-1:-1:-1;4493:14:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;4493:14:14;;;;;;;;;;;;;;;;;:10;:14::i;:::-;4473:68;;;;;;;-1:-1:-1;;;;;4473:68:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;4560:10;;4584:96;4605:7;:14;4601:1;:18;4584:96;;;4648:21;4658:7;4666:1;4658:10;;;;;;;;;;;;;;;;;;;4648:5;;:21;:9;:21;:::i;:::-;4640:29;-1:-1:-1;4621:3:14;;4584:96;;;-1:-1:-1;4704:12:14;;;;:23;;4721:5;4704:23;:16;:23;:::i;:::-;4689:12;;;:38;;;4763:8;;-1:-1:-1;4747:24:14;4738:63;;;;;-1:-1:-1;;;;;4738:63:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;4850:20;4884:6;4892:11;4905:7;4914;4873:49;;;;;;;;;;;-1:-1:-1;;;;;4873:49:14;-1:-1:-1;;;;;4873:49:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;;12:14;4873:49:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;;12:14;4873:49:14;;;;;;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;4873::14;;;4850:72;;4932:23;4969:1;4972:7;4958:22;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;;12:14;4958:22:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;4958:22:14;;;-1:-1:-1;;26:21;;;22:32;6:49;;4958:22:14;;;;5039:5;;5061:9;;5029:61;;;-1:-1:-1;;;;;5061:9:14;;;5029:61;;;;;;;;;;;;;;;;;;;;;;;;;;;4958:22;;-1:-1:-1;5039:5:14;;;;;-1:-1:-1;5029:31:14;;-1:-1:-1;5061:9:14;-1:-1:-1;5072:5:14;;-1:-1:-1;4958:22:14;;5029:61;;;;;;;49:4:-1;5029:61:14;;;;;;5039:5;8:100:-1;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;;12:14;5029:61:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;5029:61:14;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5029:61:14;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;5106:49:14;;;;;;5124:10;5029:61;5106:49;;;-1:-1:-1;;;;;5106:49:14;;;;;;;;;;;;;;;;;;;;;;;4247:915;;;;;;;;;:::o;5474:772::-;5600:9;;5581:52;;;;;;;;;;;;;;5559:19;;-1:-1:-1;;;;;5600:9:14;;5581:41;;:52;;;;;;;;;;;;;;5600:9;5581:52;;;5:2:-1;;;;30:1;27;20:12;5:2;5581:52:14;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5581:52:14;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;5581:52:14;5684:9;;5665:50;;;;;;;;;;;;;;5581:52;;-1:-1:-1;5644:11:14;;-1:-1:-1;;;;;5684:9:14;;;;5665:39;;:50;;;;;;;;;;;;;;;5684:9;5665:50;;;5:2:-1;;;;30:1;27;20:12;5:2;5665:50:14;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5665:50:14;;;;;;;13:3:-1;8;5:12;2:2;;;30:1;27;20:12;2:2;-1:-1;5665:50:14;;-1:-1:-1;5733:21:14;;;5725:58;;;;;-1:-1:-1;;;;;5725:58:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;5794:15;5812:12;;;:4;:12;;;;;5857:8;;;;-1:-1:-1;;;;;5857:8:14;5843:10;:22;;:40;;-1:-1:-1;5869:14:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;5869:14:14;;;;;;;;;;;;;;;;;:10;:14::i;:::-;5834:85;;;;;;;-1:-1:-1;;;;;5834:85:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;5946:12;;;;:22;-1:-1:-1;5946:22:14;5938:70;;;;-1:-1:-1;;;;;5938:70:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6033:12;;;;:24;;6050:6;6033:24;:16;:24;:::i;:::-;6018:12;;;:39;6130:9;;6111:62;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;6130:9:14;;;;6111:43;;:62;;;;;6130:9;;6111:62;;;;;;;;6130:9;;6111:62;;;5:2:-1;;;;30:1;27;20:12;5:2;6111:62:14;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;6189:50:14;;;;;;6209:10;6189:50;;;;;;;;;;;;;;;;;;;;-1:-1:-1;6189:50:14;;;;;;;-1:-1:-1;6189:50:14;5474:772;;;;;:::o;336:20::-;;;-1:-1:-1;;;;;336:20:14;;:::o;1354:48::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;2079:179::-;2171:7;2201:50;2213:10;2225:9;2236:14;2201:11;:50::i;:::-;2194:57;2079:179;-1:-1:-1;;;2079:179:14:o;392:28::-;;;;:::o;1263:37::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1263:37:14;;;;;;;;;:::o;362:24::-;;;-1:-1:-1;;;;;362:24:14;;:::o;2264:411::-;2458:5;;-1:-1:-1;;;;;2448:15:14;;;2458:5;;2448:15;2439:56;;;;;-1:-1:-1;;;;;2439:56:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;2514:10;-1:-1:-1;;;;;2514:20:14;;;2505:50;;;;;-1:-1:-1;;;;;2505:50:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;2567:15;2597:10;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2586:30:14;;-1:-1:-1;2627:41:14;2639:8;2649:6;2586:30;2627:11;:41::i;:::-;;2264:411;;;;;;:::o;473:50::-;;;;;;;;;;;;-1:-1:-1;;;;;473:50:14;;:::o;1741:259::-;355:22:9;366:10;355;:22::i;:::-;347:55;;;;;;;-1:-1:-1;;;;;347:55:9;;;;;;;;;;;;;;;;;;;;;;;;;;;;1914:8:14;1902:20;;1893:62;;;;;-1:-1:-1;;;;;1893:62:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;1965:16;:28;1741:259::o;1306:42::-;;;;;;;;;;;;;:::o;5168:300::-;5349:1;5337:9;:13;5333:75;;;5366:31;;-1:-1:-1;;;;;5366:20:14;;;5387:9;5366:31;;;;;;;;;5387:9;5366:20;:31;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;5366:31:14;5333:75;5417:44;5423:6;5431:11;5444:7;5453;5417:5;:44::i;:::-;5168:300;;;;:::o;620:73:9:-;661:27;677:10;661:15;:27::i;:::-;620:73::o;418:104::-;476:4;495:22;476:4;509:7;495:22;:13;:22;:::i;:::-;488:29;418:104;-1:-1:-1;;418:104:9:o;1349:467:29:-;1782:7;1770:20;1804:7;1349:467;:::o;245:68:9:-;284:24;297:10;284:12;:24::i;6407:252:14:-;6491:4;6512:10;6525:22;6536:10;6525;:22::i;:::-;6512:35;;6557:14;6581:36;6600:16;;6581:2;:14;;;:18;;:36;;;;:::i;:::-;6574:3;:43;;6557:60;;6634:5;:18;;;;;6643:9;6634:18;6627:25;6407:252;-1:-1:-1;;;;6407:252:14:o;928:162:25:-;1015:5;-1:-1:-1;;;;;1002:28:25;;1031:2;1035:6;1002:40;;;;;;;;;;;;;-1:-1:-1;;;;;1002:40:25;-1:-1:-1;;;;;1002:40:25;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1002:40:25;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1002:40:25;;;;1054:14;:12;:14::i;:::-;1046:40;;;;;;;-1:-1:-1;;;;;1046:40:25;;;;;;;;;;;;;;;;;;;;;;;;;;;;928:162;;;:::o;697:114:9:-;751:22;:9;765:7;751:22;:13;:22;:::i;:::-;784;;-1:-1:-1;;;;;784:22:9;;;;;;;;697:114;:::o;1345:142:30:-;1430:7;;;1454;;;;1447:15;;;1149:126;1209:7;1235:8;;;;1228:16;;;;-1:-1:-1;1261:7:30;;;1149:126::o;2681:878:14:-;2787:7;2836:18;:3;2844:9;2836:18;:7;:18;:::i;:::-;2819:35;;2810:82;;;;-1:-1:-1;;;;;2810:82:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2928:15;:3;2936:6;2928:15;:7;:15;:::i;:::-;2911:32;;2902:90;;;;-1:-1:-1;;;;;2902:90:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3029:55;;;-1:-1:-1;;;;;3029:55:14;;;;;;;;;;;;;;;;;;;;;;3071:12;3029:55;;;;;;;;;;26:21:-1;;;22:32;;;6:49;;3029:55:14;;;;;;;3019:66;;;;;3095:14;;:::i;:::-;-1:-1:-1;3112:140:14;;;;;;;;;;;;;;;;;;3181:15;3112:140;;;;;;-1:-1:-1;3112:140:14;;;;;;-1:-1:-1;;;;;3112:140:14;;;;;;;;;;;;;;;3282:5;:12;;3262:17;;;:9;:17;;;;;:32;3304:4;:12;;;;;:17;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3112:140;3304:17;;;-1:-1:-1;;3304:17:14;;;-1:-1:-1;;3304:17:14;;;;;;;;;;;;;;;3331:14;;;:10;:14;;;;;27:10:-1;;23:18;;;45:23;;3331:27:14;;;;;;;;;;;;27:10:-1;;23:18;;;45:23;;3368:18:14;;;;;;;;;;;3428:5;;3112:140;;3405:59;;3428:5;3225:2;3447:4;3130:9;3405:22;:59::i;:::-;3479:50;;;;;;-1:-1:-1;;;;;3479:50:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;3546:6:14;2681:878;-1:-1:-1;;;;2681:878:14:o;815:122:9:-;872:25;:9;889:7;872:25;:16;:25;:::i;:::-;908:24;;-1:-1:-1;;;;;908:24:9;;;;;;;;815:122;:::o;732:166:10:-;816:4;-1:-1:-1;;;;;838:21:10;;;;830:30;;;;;;-1:-1:-1;;;;;;873:20:10;:11;:20;;;;;;;;;;;;;;;732:166::o;339:586:25:-;391:4;;512:14;571:36;;;;660:4;655:163;;;;505:385;;571:36;601:1;586:16;;571:36;;655:163;736:4;731:3;726;711:30;809:3;803:10;788:25;;505:385;-1:-1:-1;905:16:25;;;-1:-1:-1;339:586:25;:::o;251:167:10:-;-1:-1:-1;;;;;323:21:10;;;;315:30;;;;;;360:18;364:4;370:7;360:3;:18::i;:::-;359:19;351:28;;;;;;-1:-1:-1;;;;;386:20:10;:11;:20;;;;;;;;;;;:27;;-1:-1:-1;;386:27:10;409:4;386:27;;;251:167::o;1093:194:25:-;1185:50;;;;;;-1:-1:-1;;;;;1185:50:25;;;;;;;;;;;;;;;;;;;;;;:32;;;;;;:50;;;;;-1:-1:-1;;1185:50:25;;;;;;;;-1:-1:-1;1185:32:25;:50;;;5:2:-1;;;;30:1;27;20:12;5:2;1185:50:25;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1185:50:25;;;;1247:14;:12;:14::i;:::-;1239:44;;;;;;;-1:-1:-1;;;;;1239:44:25;;;;;;;;;;;;;;;;;;;;;;;;;;;484:170:10;-1:-1:-1;;;;;559:21:10;;;;551:30;;;;;;595:18;599:4;605:7;595:3;:18::i;:::-;587:27;;;;;;;;-1:-1:-1;;;;;621:20:10;644:5;621:20;;;;;;;;;;;:28;;-1:-1:-1;;621:28:10;;;484:170::o;253:6616:14:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;253:6616:14;;;;;;;;;;;;:::o",
  "source": "pragma solidity >=0.5.0 <0.6.0;\n\nimport \"./XyStakingConsensus.sol\";\nimport \"../utils/SafeMath.sol\";\nimport \"../token/ERC20/SafeERC20.sol\";\nimport \"../token/ERC20/IXYOERC20.sol\";\nimport \"../utils/Initializable.sol\";\nimport \"../access/GovernorRole.sol\";\n\ncontract XyBond is GovernorRole, Initializable {\n    using SafeMath for uint;\n\n    address public erc20;\n    address public consensus;\n    uint public governablePeriod; // seconds after bond creation it's governable\n    mapping (bytes32 => address) public stakeIdManager;\n\n    event BondDeposit(bytes32 bondId, address beneficiary, uint amount, uint expiration);\n    event BondWithdraw(bytes32 bondId, address beneficiary, uint amount);\n    event BondStake(bytes32 bondId, address sender, address beneficiary, uint amount);\n    event BondUnstake(bytes32 bondId, address sender, bytes32 stakingId, uint amount);\n\n    struct Bond {\n        uint value;             // amount staked\n        uint expirationSec;     // expiration date in seconds\n        uint creationSec;       // creation date in seconds\n        uint allocated;         // number allocated to node stake\n        address owner;          // who owns the stake\n        uint8 interest;         // possibly add interest or relationship here\n    }\n\n    mapping (bytes32 => Bond) public bond;\n    mapping (bytes32 => uint) public bondIndex;\n    mapping (address => bytes32[]) public ownerBonds;\n    bytes32[] public bonds;\n\n    function initialize (\n        address _token,\n        address _consensusContract,\n        uint _governablePeriod\n    )\n        initializer \n        public\n    {\n        erc20 = _token;\n        consensus = _consensusContract;\n        governablePeriod = _governablePeriod;\n        super.init();\n    }\n\n    function setGovernablePeriod(uint newPeriod) \n        public \n        onlyGovernor \n    {\n        // governable period must be less than a year\n        require (newPeriod < 31536000, \"Over governable period limit\");\n        governablePeriod = newPeriod;\n    }\n\n    /**\n        Must approve before deposit can transfer in token\n    */\n    function createBond (uint xyoAmount, uint expirationDate) \n        public \n        returns (bytes32)\n    {\n        return _createBond(msg.sender, xyoAmount, expirationDate);\n    }\n\n    function receiveApproval(\n        address _spender, \n        uint256 _value, \n        address _token,\n        bytes calldata _extraData\n    ) \n        external \n    {\n        require (_token == erc20, \"Call from the current token\");\n        require (msg.sender == _token, \"Sender not token\"); \n        (uint expireDate) = abi.decode(_extraData, (uint));\n\n        _createBond(_spender, _value, expireDate);\n    }\n\n    function _createBond (address to, uint xyoAmount, uint expirationDate) \n        private \n        returns (bytes32)\n    {\n        require (expirationDate < now.add(946080000), \"Expiry must be less than 30 years\");\n        require (expirationDate > now.add(172800), \"Expiry must be at least 2 days in the future\");\n        bytes32 bondId = keccak256(abi.encode(to, xyoAmount, expirationDate, block.number));\n        Bond memory ns = Bond(\n            xyoAmount,\n            expirationDate,\n            block.timestamp,\n            0,\n            to,\n            0\n        );\n        bondIndex[bondId] = bonds.length;\n        bond[bondId] = ns;\n        ownerBonds[to].push(bondId);\n        bonds.push(bondId);\n        \n        SafeERC20.transferFrom(erc20, to, address(this), xyoAmount);\n        emit BondDeposit(bondId, to, xyoAmount, expirationDate);\n        return bondId;\n    }\n\n    function withdrawTo (bytes32 bondId, address to) \n        public\n    {\n        Bond storage bs = bond[bondId];\n        uint withdrawAmount = bs.value;\n        require (withdrawAmount > 0, \"Bond has no value\");\n        bs.value = 0; // erase value of bond\n        bool isOwner = msg.sender == bs.owner;\n        require (bs.allocated == 0, \"Bond must have no allocated stake\");\n        require (isOwner || governable(bs), \"owner or governable can withdraw\");\n        if (isOwner) {\n            require (now > bs.expirationSec, \"Bond is still active\");\n        }\n        SafeERC20.transfer(erc20, to, withdrawAmount);\n\n        emit BondWithdraw(bondId, to, withdrawAmount);\n    }\n\n    function stake (bytes32 bondId, address payable beneficiary, address[] memory stakees, uint[] memory amounts)\n        public\n    {\n        Bond storage bs = bond[bondId];\n        bool isOwner = msg.sender == bs.owner;\n        require (isOwner || governable(bs), \"owner or governable can stake\");\n        \n        uint total = 0;\n        for (uint i = 0; i < amounts.length; i++) {\n            total = total.add(amounts[i]);\n        }\n        bs.allocated = bs.allocated.add(total);\n\n        require (bs.allocated <= bs.value, \"Insufficient bond balance\");\n\n        // stake stakees with amounts\n        bytes memory encoded = abi.encode(bondId, beneficiary, stakees, amounts);\n        bytes memory methodData = abi.encode(4, encoded);\n        \n        // stake bonded nodes\n        IXYOERC20(erc20).approveAndCall(consensus, total, methodData);\n\n        emit BondStake(bondId, msg.sender, beneficiary, total);\n    }\n\n    function sendEthAndStake(bytes32 bondId, address payable beneficiary, address[] memory stakees, uint[] memory amounts) \n        public\n        payable\n    {\n        if (msg.value > 0) {\n            beneficiary.transfer(msg.value);\n        }\n        stake(bondId, beneficiary, stakees, amounts);\n    }\n\n    function unstake (bytes32 bondId, bytes32 stakingId) \n        public  \n    {\n        bytes32 checkBondId = XyStakingConsensus(consensus).bondedStake(stakingId);\n        (uint amount,,,,,,) = XyStakingConsensus(consensus).stakeData(stakingId);\n        require(checkBondId == bondId, \"Stake needs to be bonded\");\n\n        Bond storage bs = bond[bondId];\n        require (msg.sender == bs.owner || governable(bs), \"owner or governable can unstake\");\n        \n        require(bs.allocated >= amount, \"Cannot unstake over bond allocation\");\n        bs.allocated = bs.allocated.sub(amount);\n\n        // will fail if already withdrew  \n        XyStakingConsensus(consensus).unstakeBonded(bondId, stakingId);\n\n        emit BondUnstake(bondId, msg.sender, stakingId, amount);\n    }\n\n    function isExpired(bytes32 bondId) \n        public \n        view \n        returns (bool)\n    {\n        return bond[bondId].expirationSec < now;\n    }\n\n    function governable(Bond memory bs) \n        private \n        view\n        returns (bool) \n    {\n        bool isGov = isGovernor(msg.sender);\n        bool govActive = now <= bs.creationSec.add(governablePeriod);\n        return isGov && govActive;\n    }\n\n    function numBonds() public view returns (uint) {\n        return bonds.length;\n    }\n\n    function numOwnerBonds(address owner) public view returns (uint) {\n        return ownerBonds[owner].length;\n    }\n}",
  "compiler": {
    "name": "solc",
    "version": "0.5.4+commit.9549d8ff.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "3.0.6",
  "updatedAt": "2019-04-30T17:49:33.736Z",
  "devdoc": {
    "methods": {}
  },
  "userdoc": {
    "methods": {
      "deposit(uint256,uint256)": {
        "notice": "Must approve before deposit can transfer in token"
      },
      "createBond(uint256,uint256)": {
        "notice": "Must approve before deposit can transfer in token"
      }
    }
  }
}